"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2202],{8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>d});var o=n(6540);const l={},i=o.createContext(l);function s(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),o.createElement(i.Provider,{value:t},e.children)}},9724:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"guides/tools","title":"Tools","description":"What is a tool?","source":"@site/docs/guides/tools.md","sourceDirName":"guides","slug":"/guides/tools","permalink":"/docs/guides/tools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar":"docsSidebar"}}');var l=n(4848),i=n(8453);const s={sidebar:"docsSidebar"},d="Tools",r={},a=[{value:"What is a tool?",id:"what-is-a-tool",level:2},{value:"Creating Tools: Step by Step Guide",id:"creating-tools-step-by-step-guide",level:2},{value:"1. Define Your Tool Function",id:"1-define-your-tool-function",level:3},{value:"2. Set Up Your Flow",id:"2-set-up-your-flow",level:3},{value:"3. Add the Tool",id:"3-add-the-tool",level:3},{value:"4. Connect Tool to LLM",id:"4-connect-tool-to-llm",level:3},{value:"5. Using Tool Results",id:"5-using-tool-results",level:3},{value:"Example: Complete Flow",id:"example-complete-flow",level:2},{value:"Tool Execution Behavior",id:"tool-execution-behavior",level:2}];function c(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"tools",children:"Tools"})}),"\n",(0,l.jsx)(t.h2,{id:"what-is-a-tool",children:"What is a tool?"}),"\n",(0,l.jsxs)(t.p,{children:["A tool in Timbal is a special type of ",(0,l.jsx)(t.code,{children:"Link"})," that allows LLMs to perform specific actions. Think of tools as functions that your AI can call when needed!"]}),"\n",(0,l.jsx)(t.admonition,{title:"Key Concept",type:"tip",children:(0,l.jsx)(t.p,{children:"Tools are only executed when explicitly called by a LLM, making them efficient and purpose-driven."})}),"\n",(0,l.jsx)(t.h2,{id:"creating-tools-step-by-step-guide",children:"Creating Tools: Step by Step Guide"}),"\n",(0,l.jsx)(t.p,{children:"Let's create a simple tool that tells the current time!"}),"\n",(0,l.jsx)(t.h3,{id:"1-define-your-tool-function",children:"1. Define Your Tool Function"}),"\n",(0,l.jsx)(t.p,{children:"First, create a function that will serve as your tool:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'from datetime import datetime\n\ndef get_time(location: str):\n    """Get the current time for a specific location"""\n    return datetime.now()\n'})}),"\n",(0,l.jsx)(t.h3,{id:"2-set-up-your-flow",children:"2. Set Up Your Flow"}),"\n",(0,l.jsx)(t.p,{children:"Create a new flow and add an LLM that will use the tool:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'flow = Flow()\nflow.add_llm("step_1")  # This LLM will use our tool\n'})}),"\n",(0,l.jsx)(t.h3,{id:"3-add-the-tool",children:"3. Add the Tool"}),"\n",(0,l.jsx)(t.p,{children:"Add your tool function as a step:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:"flow.add_step(get_time)  # Add the time tool\n"})}),"\n",(0,l.jsx)(t.h3,{id:"4-connect-tool-to-llm",children:"4. Connect Tool to LLM"}),"\n",(0,l.jsxs)(t.p,{children:["Link the tool to your LLM with the special ",(0,l.jsx)(t.code,{children:"is_tool"})," flag:"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'flow.add_link(\n    "get_time",           # Source: our tool\n    "step_1",            # Target: the LLM\n    is_tool=True,        # Mark as tool\n    description="Get the current time for a specified location"  # Help LLM understand the tool\n)\n'})}),"\n",(0,l.jsx)(t.admonition,{title:"Tool Description",type:"note",children:(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"description"})," parameter helps the LLM understand when and how to use the tool. Make it clear and specific!"]})}),"\n",(0,l.jsx)(t.h3,{id:"5-using-tool-results",children:"5. Using Tool Results"}),"\n",(0,l.jsx)(t.p,{children:"Want to use the tool's output in another step? Here's how:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'# Add a new step\nflow.add_step("step_2")\n\n# Connect tool result to the new step\nflow.add_link(\n    "get_time",          # Source: our tool\n    "step_2",           # Target: next step\n    is_tool_result=True  # Mark as tool result\n)\n'})}),"\n",(0,l.jsx)(t.h2,{id:"example-complete-flow",children:"Example: Complete Flow"}),"\n",(0,l.jsx)(t.p,{children:"Here's how everything comes together:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'from timbal import Flow\nfrom datetime import datetime\n\n# Define tool\ndef get_time(location: str):\n    return datetime.now()\n\n# Create and configure flow\nflow = (\n    Flow()\n    .add_llm("step_1")                    # Add LLM\n    .add_step(get_time)                   # Add tool\n    .add_step("step_2")                   # Add result handler\n    .add_link(                            # Connect tool to LLM\n        "get_time", \n        "step_1", \n        is_tool=True,\n        description="Get the time of a location"\n    )\n    .add_link(                            # Connect tool result\n        "get_time", \n        "step_2", \n        is_tool_result=True\n    )\n)\n'})}),"\n",(0,l.jsx)(t.h2,{id:"tool-execution-behavior",children:"Tool Execution Behavior"}),"\n",(0,l.jsxs)(t.admonition,{title:"Important",type:"info",children:[(0,l.jsx)(t.p,{children:"Tools have a special execution pattern:"}),(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"They only run when explicitly called"}),"\n",(0,l.jsx)(t.li,{children:"If not needed, they remain dormant"}),"\n",(0,l.jsx)(t.li,{children:"This makes your flow efficient and focused"}),"\n"]})]}),"\n",(0,l.jsxs)(t.p,{children:["We have a ",(0,l.jsx)(t.code,{children:"flow = Flow()"})]}),"\n",(0,l.jsx)(t.p,{children:"A tool will be a function so:"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsx)(t.li,{children:"We want a LLM:"}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'flow.add_llm("step_1")\n'})}),"\n",(0,l.jsxs)(t.ol,{start:"2",children:["\n",(0,l.jsx)(t.li,{children:"First we added as a step and add a llm"}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:"flow.add_step(get_time)\n"})}),"\n",(0,l.jsxs)(t.ol,{start:"3",children:["\n",(0,l.jsxs)(t.li,{children:["We have to link the tools to the llm, with a special input:\n",(0,l.jsx)(t.code,{children:"is_tool = True"})]}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'flow.add_link("get_time", "step1", is_tool=True, description="Get the time of London")\n'})}),"\n",(0,l.jsx)(t.p,{children:"Then if we wanted to pass the result of the tool to another step:"}),"\n",(0,l.jsxs)(t.ol,{start:"4",children:["\n",(0,l.jsx)(t.li,{children:"We add the new step:"}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'flow.add_step("step2")\n'})}),"\n",(0,l.jsxs)(t.ol,{start:"5",children:["\n",(0,l.jsxs)(t.li,{children:["In order to say that the input it will receive comes from a llm, so it is a tool result we use another variable:\n",(0,l.jsx)(t.code,{children:"is_tool_result = True"})]}),"\n"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-python",children:'flow.add_link(get_time, "step2", is_tool_result=True)\n'})}),"\n",(0,l.jsx)(t.p,{children:"When we use tools, as we are seting in the link as tool, it will be only executed when the tool is called, if not needed it will not be executed."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);