"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5588],{2165:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>h,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"agents/tools","title":"Tools","description":"Tools are the way to give your Agents superpowers: they allow your agent to interact with the outside world, call APIs, perform calculations, and much more.","source":"@site/docs/agents/tools.md","sourceDirName":"agents","slug":"/agents/tools","permalink":"/agents/tools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Tools","sidebar":"docsSidebar"},"sidebar":"docsSidebar","previous":{"title":"Rewind","permalink":"/agents/rewind"},"next":{"title":"Voice","permalink":"/agents/voice"}}');var o=n(4848),s=n(8453),r=n(5495);const l={title:"Tools",sidebar:"docsSidebar"},h="Understanding Tools",a={},g=[{value:"What is a Tool?",id:"what-is-a-tool",level:2},{value:"How to Create a Tool",id:"how-to-create-a-tool",level:2},{value:"1. Define a Python Function",id:"1-define-a-python-function",level:3},{value:"2. Wrap it as a Tool",id:"2-wrap-it-as-a-tool",level:3},{value:"3. Add the Tool to Your Agent",id:"3-add-the-tool-to-your-agent",level:3},{value:"Using Built-in Tools",id:"using-built-in-tools",level:2},{value:"Customizing Tool Parameters",id:"customizing-tool-parameters",level:2},{value:"Field Descriptions and Choices",id:"field-descriptions-and-choices",level:3},{value:"Controlling Parameter Visibility",id:"controlling-parameter-visibility",level:3},{value:"Only show required params",id:"only-show-required-params",level:4},{value:"Include extra params",id:"include-extra-params",level:4},{value:"Exclude params",id:"exclude-params",level:4},{value:"Dictionary style",id:"dictionary-style",level:4},{value:"Adding Descriptions",id:"adding-descriptions",level:2},{value:"Using Tools in Agents",id:"using-tools-in-agents",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const t={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"understanding-tools",children:"Understanding Tools"})}),"\n",(0,o.jsx)(t.p,{children:"Tools are the way to give your Agents superpowers: they allow your agent to interact with the outside world, call APIs, perform calculations, and much more."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"what-is-a-tool",children:"What is a Tool?"}),"\n",(0,o.jsxs)(t.p,{children:["A ",(0,o.jsx)(t.strong,{children:"Tool"})," is a function (or callable) that your agent can invoke. You can use:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Your own Python functions"}),"\n",(0,o.jsx)(t.li,{children:"Pre-built tools provided by Timbal"}),"\n",(0,o.jsx)(t.li,{children:"Tools defined as objects or dictionaries"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"how-to-create-a-tool",children:"How to Create a Tool"}),"\n",(0,o.jsx)(t.h3,{id:"1-define-a-python-function",children:"1. Define a Python Function"}),"\n",(0,o.jsx)(t.p,{children:"You can start with a simple function:"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'def get_weather(location: str) -> str:\n  return "The weather is sunny!"'}),"\n",(0,o.jsx)(t.h3,{id:"2-wrap-it-as-a-tool",children:"2. Wrap it as a Tool"}),"\n",(0,o.jsx)(t.p,{children:"You can wrap your function as a Tool object, or just pass the function directly:"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'from timbal.core.agent.types.tool import Tool\n\nweather_tool = Tool(\n  runnable=get_weather,\n  description="Get the weather for a location",\n)'}),"\n",(0,o.jsx)(t.p,{children:"Or, you can use a dictionary:"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'weather_tool = {\n  "runnable": get_weather,\n  "description": "Get the weather for a location",\n  # Only required params are exposed to the LLM\n  "params_mode": "required",\n}'}),"\n",(0,o.jsx)(t.h3,{id:"3-add-the-tool-to-your-agent",children:"3. Add the Tool to Your Agent"}),"\n",(0,o.jsx)(r.A,{language:"python",code:"from timbal import Agent\n\nagent = Agent(\n  tools=[weather_tool]\n)"}),"\n",(0,o.jsx)(t.h2,{id:"using-built-in-tools",children:"Using Built-in Tools"}),"\n",(0,o.jsxs)(t.p,{children:["Timbal comes with many built-in tools, such as ",(0,o.jsx)(t.code,{children:"search_internet"})," using Perplexity or ",(0,o.jsx)(t.code,{children:"send_message"})," using Slack.",(0,o.jsx)(t.br,{}),"\n","You can add them directly:"]}),"\n",(0,o.jsx)(r.A,{language:"python",code:"from timbal.steps.perplexity import search_internet\n\nagent = Agent(\n  tools=[search_internet]\n)"}),"\n",(0,o.jsxs)(t.p,{children:["Find more in the ",(0,o.jsx)(t.a,{href:"/integrations",children:"Integrations"})," section."]}),"\n",(0,o.jsx)(t.h2,{id:"customizing-tool-parameters",children:"Customizing Tool Parameters"}),"\n",(0,o.jsx)(t.p,{children:"You can control which parameters are visible to the LLM and how they are described."}),"\n",(0,o.jsx)(t.h3,{id:"field-descriptions-and-choices",children:"Field Descriptions and Choices"}),"\n",(0,o.jsxs)(t.p,{children:["Use ",(0,o.jsx)(t.code,{children:"Field"})," to add descriptions and choices to your function parameters:"]}),"\n",(0,o.jsx)(r.A,{language:"python",code:'from timbal.types import Field\n\ndef get_weather(\n  location: str = Field(description="The location to get the weather for"),\n  unit: str = Field(choices=["celsius", "fahrenheit"], description="Temperature unit")\n) -> str:\n  ...'}),"\n",(0,o.jsx)(t.h3,{id:"controlling-parameter-visibility",children:"Controlling Parameter Visibility"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"params_mode"}),": ",(0,o.jsx)(t.code,{children:'"all"'})," (default) exposes all params, ",(0,o.jsx)(t.code,{children:'"required"'})," exposes only required ones."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"include_params"}),": List of param names to always include."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"exclude_params"}),": List of param names to exclude."]}),"\n"]}),"\n",(0,o.jsx)(t.h4,{id:"only-show-required-params",children:"Only show required params"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'Tool(\n  runnable=get_weather,\n  description="Get the weather for a location",\n  params_mode="required"\n)'}),"\n",(0,o.jsx)(t.h4,{id:"include-extra-params",children:"Include extra params"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'Tool(\n  runnable=get_weather,\n  description="Get the weather for a location",\n  params_mode="required",\n  # Even if not required, \'unit\' will be shown\n  include_params=["unit"]  \n)'}),"\n",(0,o.jsx)(t.h4,{id:"exclude-params",children:"Exclude params"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'Tool(\n  runnable=get_weather,\n  description="Get the weather for a location",\n  # \'unit\' will not be shown to the LLM\n  exclude_params=["unit"]  \n)'}),"\n",(0,o.jsx)(t.h4,{id:"dictionary-style",children:"Dictionary style"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'{\n  "runnable": get_weather,\n  "description": "Get the weather for a location",\n  "params_mode": "required",\n  # You can combine include/exclude\n  "include_params": ["unit"],\n  "exclude_params": ["location"],\n}'}),"\n",(0,o.jsx)(t.h2,{id:"adding-descriptions",children:"Adding Descriptions"}),"\n",(0,o.jsxs)(t.p,{children:["Always add a ",(0,o.jsx)(t.code,{children:"description"})," to your tool! This helps the LLM understand when and how to use it."]}),"\n",(0,o.jsx)(r.A,{language:"python",code:'Tool(\n  runnable=get_weather,\n  description="Get the weather for a location"\n)'}),"\n",(0,o.jsx)(t.h2,{id:"using-tools-in-agents",children:"Using Tools in Agents"}),"\n",(0,o.jsx)(t.p,{children:"You can combine multiple tools, both custom and built-in:"}),"\n",(0,o.jsx)(r.A,{language:"python",code:'from timbal.steps.perplexity import search_internet\n\nagent = Agent(\n  tools=[\n      search_internet,\n      Tool(\n          runnable=get_weather,\n          description="Get the weather of a location",\n          exclude_params=["query"]\n      ),\n      {\n          "runnable": get_time,\n          "description": "Get the time of a location",\n          "params_mode": "required",\n          "include_params": ["model"]\n      }\n  ]\n)'}),"\n",(0,o.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Tools let your agent interact with the world."}),"\n",(0,o.jsx)(t.li,{children:"You can use your own functions, built-in tools, or dictionaries."}),"\n",(0,o.jsx)(t.li,{children:"Customize which parameters are visible and how they are described."}),"\n",(0,o.jsx)(t.li,{children:"Add clear descriptions for best results."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["For more, see the ",(0,o.jsx)(t.a,{href:"/integrations",children:"Integrations"})," and ",(0,o.jsx)(t.a,{href:"/agents/tools",children:"Advanced Tools"})," docs!"]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},5495:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(6540),o=n(1765),s=n(4848);(void 0!==n.g?n.g:window).Prism=o.My;const r={...o.Zj.github,plain:{...o.Zj.github.plain,backgroundColor:"#2d2d2d",color:"#ffffff"},styles:o.Zj.github.styles.map((e=>({...e,types:e.types})))},l={from:"custom-highlight-pink",import:"custom-highlight-pink","=":"custom-highlight-pink",timbal:"custom-highlight-green",Agent:"custom-highlight-green",steps:"custom-highlight-green",perplexity:"custom-highlight-green",InMemorySaver:"custom-highlight-green",fal:"custom-highlight-green",text_to_image:"custom-highlight-green",RunContext:"custom-highlight-green",twilio:"custom-highlight-green",whatsapp:"custom-highlight-green",model:"custom-highlight-orange",query:"custom-highlight-orange",context:"custom-highlight-orange",system_prompt:"custom-highlight-orange",tools:"custom-highlight-orange",parent_id:"custom-highlight-orange",id:"custom-highlight-orange",model_id:"custom-highlight-orange",to:"custom-highlight-orange",message:"custom-highlight-orange",resource:"custom-highlight-orange",max_results:"custom-highlight-orange",message_id:"custom-highlight-orange",thread_id:"custom-highlight-orange",subject:"custom-highlight-orange",body:"custom-highlight-orange",template_sid:"custom-highlight-orange",template_params:"custom-highlight-orange",scope:"custom-highlight-orange",folder:"custom-highlight-orange",destination:"custom-highlight-orange",text:"custom-highlight-orange",voice_id:"custom-highlight-orange",memory_id:"custom-highlight-orange",location:"custom-highlight-orange",memory_window_size:"custom-highlight-orange","(":"custom-highlight-yellow-dark",")":"custom-highlight-yellow-dark","[":"custom-highlight-purple-pink","]":"custom-highlight-purple-pink","{":"custom-highlight-yellow-dark","}":"custom-highlight-yellow-dark",",":"#fffff",Flow:"custom-highlight-green",await:"custom-highlight-pink",as:"custom-highlight-pink",def:"custom-highlight-blue",async:"custom-highlight-blue","-":"#fffff",">":"#fffff",":":"#fffff",".":"#fffff",state:"custom-highlight-green",savers:"custom-highlight-green",sharepoint:"custom-highlight-green",Tool:"custom-highlight-green",list_directory:"custom-highlight-green-fn",gen_images:"custom-highlight-green-fn",download_file:"custom-highlight-green-fn",TimbalPlatformSaver:"custom-highlight-green",sql:"custom-highlight-green",postgres:"custom-highlight-green",return:"custom-highlight-pink",for:"custom-highlight-pink",in:"custom-highlight-pink",if:"custom-highlight-pink",datetime:"custom-highlight-green",elevenlabs:"custom-highlight-green",gmail:"custom-highlight-green",JSONLSaver:"custom-highlight-green",openai:"custom-highlight-green",messages:"custom-highlight-green",types:"custom-highlight-green",File:"custom-highlight-green",postgres_query:"custom-highlight-green-fn",PGConfig:"custom-highlight-green",get_message:"custom-highlight-green-fn",get_thread:"custom-highlight-green-fn",get_datetime:"custom-highlight-green-fn",send_message:"custom-highlight-green-fn",run_sql_query:"custom-highlight-green-fn",create_draft_message:"custom-highlight-green-fn",send_whatsapp_message:"custom-highlight-green-fn",send_whatsapp_template:"custom-highlight-green-fn",openai_stt:"custom-highlight-green-fn",elevenlabs_tts:"custom-highlight-green-fn",validate:"custom-highlight-green-fn",complete:"custom-highlight-green-fn",print:"custom-highlight-green-fn",search:"custom-highlight-green-fn",search_internet:"custom-highlight-green-fn",stt:"custom-highlight-green-fn",tts:"custom-highlight-green-fn",run:"custom-highlight-green-fn",search_web:"custom-highlight-green-fn",set_input:"custom-highlight-green-fn",extract_text:"custom-highlight-green-fn",text_processor:"custom-highlight-green-fn",convert_to_database:"custom-highlight-green-fn",get_weather:"custom-highlight-green-fn",get_time:"custom-highlight-green-fn",add_step:"custom-highlight-green-fn",add_link:"custom-highlight-green-fn",set_output:"custom-highlight-green-fn",parse_documentation:"custom-highlight-green-fn",create_database:"custom-highlight-green-fn",add_llm:"custom-highlight-green-fn",compile:"custom-highlight-green-fn",str:"custom-highlight-green"},h=new RegExp(`(${Object.keys(l).map((e=>/^[a-zA-Z0-9_]+$/.test(e)?`\\b${e}\\b`:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")})`,"g"),a=/"([^"]*)"/g;function g(e){const{title:t,children:n,highlight:g}=e,[c,d]=(0,i.useState)(!1),u=g?g.split(",").map((e=>parseInt(e.trim()))):[];return(0,s.jsxs)("div",{className:"custom-codeblock-container",style:{borderRadius:"12px",overflow:"hidden",border:"1px solid #333",marginBottom:"1.5em",position:"relative"},children:[t&&(0,s.jsx)("div",{style:{background:"#2d2d2d",color:"#fff",padding:"0.3em 1em",fontSize:"0.85em",borderBottom:"1.5px solid #444",letterSpacing:"0.01em",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,s.jsx)("span",{children:t})}),(0,s.jsx)(o.f4,{theme:r,...e,children:t=>{let{className:n,style:i,tokens:o,getLineProps:r,getTokenProps:g}=t;const m=o.map((e=>e.map((e=>e.content)).join(""))).join("\n");let p=0,f=0,x=0,y=0;o.forEach((e=>{e.forEach((e=>{const t=g({token:e}).children;"string"==typeof t&&"state_saver"===t.trim()&&f++,"string"==typeof t&&"audio_file"===t.trim()&&x++,"string"==typeof t&&"db_config"===t.trim()&&y++,"string"==typeof t&&"sql"===t.trim()&&0}))}));let j=0,w=0,b=0,_=0,v=[];const T=e=>{const t=(e-1)%3;return 0===t?"custom-highlight-yellow-dark":1===t?{color:"#ff69b4"}:{color:"#42a5f5"}};return(0,s.jsxs)("pre",{className:n,style:{...i,border:"none",borderRadius:0,color:"bash"===e.language?"#ffffff":i.color,margin:0,position:"relative"},children:[(0,s.jsx)("button",{className:"copy-icon-btn"+(c?" copied":""),onClick:()=>{navigator.clipboard.writeText(m),d(!0),setTimeout((()=>d(!1)),2e3)},"aria-label":"Copy code",type:"button",children:c?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"#fff",d:"m9.55 15.15l8.475-8.475q.3-.3.7-.3t.7.3t.3.713t-.3.712l-9.175 9.2q-.3.3-.7.3t-.7-.3L4.55 13q-.3-.3-.288-.712t.313-.713t.713-.3t.712.3z"})}):(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,s.jsxs)("g",{fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,s.jsx)("path",{d:"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z"}),(0,s.jsx)("path",{d:"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3"})]})})}),o.map(((t,n)=>{const i=t.map((e=>g({token:e}).children)).join(""),o=u.includes(n+1),c={...r({line:t}).style,...o?{backgroundColor:"rgba(255, 255, 255, 0.1)",borderLeft:"3px solid #bcb6ff",paddingLeft:"8px",marginLeft:"-8px"}:{}};return/^\s*#/.test(i)?(0,s.jsx)("div",{...r({line:t}),style:c,children:t.map(((t,n)=>{const i=g({token:t});return(0,s.jsx)("span",{className:(e.language,"custom-highlight-comment"),children:i.children},n)}))},n):(0,s.jsx)("div",{...r({line:t}),style:c,children:t.map(((t,n)=>{const i=g({token:t});let o=i.children;if("bash"===e.language)return(0,s.jsx)("span",{style:{color:"#ffffff"},children:o},n);const r=[];let c,d=0;for(;null!==(c=a.exec(o));){if(c.index>d){let e=o.slice(d,c.index).replace(h,(e=>`<span class="${l[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),r.push(e)}r.push(`<span class="custom-highlight-yellow">${c[0]}</span>`),d=c.index+c[0].length}if(d<o.length){let e=o.slice(d).replace(h,(e=>`<span class="${l[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),r.push(e)}const u=r.join("");if("string"==typeof o&&"prompt"===o.trim())return p++,1===p?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},n):2===p?(0,s.jsx)("span",{style:{color:"#fff"},children:o},n):(0,s.jsx)("span",{...i},n);if("string"==typeof o&&"audio_file"===o.trim())return w++,3===x&&2===w?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},n):(0,s.jsx)("span",{...i},n);if("string"==typeof o&&"state_saver"===o.trim())return j++,1===f&&1===j||2===f&&1===j||3===f&&2===j?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},n):(0,s.jsx)("span",{...i},n);if("string"==typeof o&&"db_config"===o.trim())return b++,1===y&&1===b||2===y&&1===b||3===y&&2===b?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},n):(0,s.jsx)("span",{...i},n);if("string"==typeof o&&"sql"===o.trim())return _++,1===_?(0,s.jsx)("span",{className:"custom-highlight-green",children:o},n):2===_||3===_?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},n):(0,s.jsx)("span",{...i},n);if("("===o||"{"===o||"["===o){v.push(o);const e=v.length,t=T(e);return"string"==typeof t?(0,s.jsx)("span",{className:t,children:o},n):(0,s.jsx)("span",{style:t,children:o},n)}if(")"===o||"}"===o||"]"===o){const e=v.length,t=T(e);let i;i="string"==typeof t?(0,s.jsx)("span",{className:t,children:o},n):(0,s.jsx)("span",{style:t,children:o},n);const r=v[v.length-1];return(")"===o&&"("===r||"}"===o&&"{"===r||"]"===o&&"["===r)&&v.pop(),i}return u!==o?(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:u}},n):(0,s.jsx)("span",{...i},n)}))},n)}))]})}})]})}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var i=n(6540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);