"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7204],{698:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"agents/index","title":"Overview","description":"Master proven strategies for designing advanced, specialized AI agents that work together seamlessly to tackle complex challenges.","source":"@site/docs/agents/index.md","sourceDirName":"agents","slug":"/agents/","permalink":"/agents/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Overview","sidebar":"docsSidebar"},"sidebar":"docsSidebar","previous":{"title":"Model Capabilities","permalink":"/getting-started/model_capabilities"},"next":{"title":"Adding Memory","permalink":"/agents/memory"}}');var s=n(4848),o=n(8453),h=n(5495);const a={title:"Overview",sidebar:"docsSidebar"},r="Understanding Agents",l={},g=[{value:"What is an Agent?",id:"what-is-an-agent",level:2},{value:"Quick Example",id:"quick-example",level:2},{value:"Key Capabilities of an Agent",id:"key-capabilities-of-an-agent",level:2},{value:"Running an Agent",id:"running-an-agent",level:2},{value:"Get a Complete Answer",id:"get-a-complete-answer",level:3},{value:"Real-Time (Streaming) Output",id:"real-time-streaming-output",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"understanding-agents",children:"Understanding Agents"})}),"\n",(0,s.jsx)("h2",{className:"subtitle",style:{marginTop:"-17px",fontSize:"1.1rem",fontWeight:"normal"},children:(0,s.jsx)(t.p,{children:"Master proven strategies for designing advanced, specialized AI agents that work together seamlessly to tackle complex challenges."})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"what-is-an-agent",children:"What is an Agent?"}),"\n",(0,s.jsxs)(t.p,{children:["An ",(0,s.jsx)("span",{style:{color:"var(--timbal-purple)"},children:(0,s.jsx)("strong",{children:"Agent"})})," is like having your own AI-powered teammate\u2014one that can understand your goals, reason about the best way to achieve them, and take actions on your behalf. Powered by advanced Large Language Models (LLMs), Agents go far beyond simple chatbots or assistants."]}),"\n",(0,s.jsx)(t.p,{children:"Think of an Agent as:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"A digital coworker that can read, write, and analyze information."}),"\n",(0,s.jsx)(t.li,{children:"A problem-solver that can break down complex tasks into steps and execute them."}),"\n",(0,s.jsx)(t.li,{children:"A connector that can use tools, access APIs, search the web, or interact with other software to get things done."}),"\n"]}),"\n",(0,s.jsx)(h.A,{language:"python",code:"Agent()  # That's it! You've created your first agent!"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," Make sure to define all required environment variables\u2014such as your OpenAI API key, your Gemini API key, the API key model that you need\u2014in your ",(0,s.jsx)(t.code,{children:".env"})," file."]}),"\n",(0,s.jsx)(h.A,{language:"bash",title:".env",code:"OPENAI_API_KEY=your_api_key_here"}),"\n",(0,s.jsx)(t.h2,{id:"quick-example",children:"Quick Example"}),"\n",(0,s.jsx)(t.p,{children:"Here's an example of an agent that uses a tool to get weather information:"}),"\n",(0,s.jsx)(h.A,{language:"python",code:'from timbal import Agent, Tool\n\n# Define a weather tool\ndef get_weather(location: str) -> str:\n  # This is a simplified example - in practice, you\'d use a real weather API\n  return "The weather is sunny"\n\n# Create an agent with the weather tool\nagent = Agent(\n  model="gemini-2.5-pro-preview-03-25",\n  tools=[\n      Tool(\n          runnable=get_weather,\n          description="Get the weather for a specific location",\n      )\n  ]\n)\n\n# Use the agent to get weather information\nresponse = await agent.complete(\n  prompt="What\'s the weather like in New York?"\n)'}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Agent Execution Logs"}),":"]}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='agent, ...)"})}),"\n",(0,s.jsxs)(n,{className:"log-step-collapsible",children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"OutputEvent(..., path='agent.llm-0', ...)"})}),(0,s.jsx)(h.A,{language:"bash",code:"OutputEvent(...,\n  path='agent.llm-0', \n  input={\n    'messages': [\n      Message(\n        role=user,\n        content=[TextContent(\n          type='text', \n          text=\"What's the weather like in New York?\"\n        )]\n      )\n    ], \n    'tools': [{\n      'type': 'function', \n      'function': {\n        'name': 'get_weather',\n        'description': 'Get the weather for a specific location',\n        'parameters': {\n          'properties': {'location': {'title': 'Location', 'type': 'string'}}, \n          'required': ['location'],\n          ...\n        }\n      }\n    }], \n    'model': 'gpt-4',\n    ...\n  },\n  output=Message(\n    role=assistant,\n    content=[ToolUseContent(\n      type='tool_use', \n      id='...', \n      name='get_weather', \n      input={'location': 'New York'}\n    )]\n  ), ...)\n"})]}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='agent.get_weather-call_...', ...)"})}),"\n",(0,s.jsxs)(n,{className:"log-step-collapsible",children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"OutputEvent(..., path='agent.get_weather-...)"})}),(0,s.jsx)(h.A,{language:"bash",code:"OutputEvent(...,\n  path='agent.get_weather-...',\n  input={'location': 'New York'},\n  output=Message(\n    role=user,\n    content=[TextContent(type='text', text='The weather is sunny')]\n  ), ...)"})]}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='agent.llm-1', ...)"})}),"\n",(0,s.jsxs)(n,{className:"log-step-collapsible",children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"OutputEvent(..., path='agent.llm-1', ...)"})}),(0,s.jsx)(h.A,{language:"bash",code:"OutputEvent(...,\n  path='agent.llm-1', \n  input={\n    'messages': [\n      Message(\n        role=user, \n        content=[TextContent(\n          type='text',\n          text=\"What's the weather like in New York?\"\n        )]\n      ), \n      Message(\n        role=assistant, \n        content=[ToolUseContent(\n          type='tool_use',\n          id='...',\n          name='get_weather',\n          input={'location': 'New York'}\n        )]\n      ),\n      Message(\n        role=user, \n        content=[ToolResultContent(\n          type='tool_result', \n          id='call_...', \n          content=[TextContent(type='text', text='The weather is sunny')]\n        )]\n      )\n    ],\n    'tools': [{\n      'type': 'function', \n      'function': {\n        'name': 'get_weather',\n        'description': 'Get the weather for a specific location',\n        'parameters': {\n          'properties': {'location': {'title': 'Location', 'type': 'string'}},\n          'required': ['location'],\n          ...\n        }\n      }\n    }], \n    'model': 'gpt-4',\n    ...\n  },\n  output=Message(\n    role=assistant, \n    content=[TextContent(\n      type='text',\n      text='The weather in New York is sunny.'\n    )]\n  ),...)"})]}),"\n",(0,s.jsxs)(n,{className:"log-step-collapsible",children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"OutputEvent(..., path='agent', ...)"})}),(0,s.jsx)(h.A,{language:"bash",code:"OutputEvent(...,\n  path='agent',\n  input={\n    'prompt': {\n      'role': 'user', \n      'content': [{\n        'type': 'text',\n        'text': \"What's the weather like in New York?\"\n      }]\n    }\n  },\n  output=Message(\n    role=assistant, \n    content=[TextContent(\n      type='text',\n      text='The weather in New York is sunny.'\n    )]\n  ), ...)\n"})]}),"\n",(0,s.jsx)(t.p,{children:"This example shows how to create an agent with a custom tool. The agent can now use the weather tool to fetch real-time weather data when needed. You can add multiple tools to make your agent even more powerful!"}),"\n",(0,s.jsx)(t.h2,{id:"key-capabilities-of-an-agent",children:"Key Capabilities of an Agent"}),"\n",(0,s.jsx)(t.p,{children:"Let's break down how an Agent thinks and works:"}),"\n",(0,s.jsxs)("div",{className:"timeline",children:[(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsx)("div",{className:"timeline-content",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)("h4",{children:"Autonomous Reasoning"}),"\nAgents can decide what to do next based on your instructions and the current situation."]})})}),(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsx)("div",{className:"timeline-content",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)("h4",{children:"Tool Use"}),"\nThey can use built-in or custom tools (like searching the internet, fetching data, or running code) to accomplish tasks."]})})}),(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsx)("div",{className:"timeline-content",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)("h4",{children:"Memory"}),"\nAgents can remember previous interactions, decisions, or data, allowing them to work on long-term or multi-step projects."]})})}),(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsx)("div",{className:"timeline-content",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)("h4",{children:"Adaptability"}),"\nThey can handle a wide range of tasks, from answering questions to automating workflows."]})})})]}),"\n",(0,s.jsx)("style",{children:"\n.timeline {\ndisplay: flex;\nalign-items: center;\nmargin: 1rem 0;\noverflow-x: auto;\npadding: 0.5rem;\n}\n\n.timeline-item {\nwidth: 180px;\ntext-align: left;\npadding: 0.5rem;\nbackground: var(--ifm-background-color);\nborder-radius: 6px;\nbox-shadow: 0 1px 3px rgba(0,0,0,0.1);\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\n}\n\n.timeline-connector {\ncolor: var(--ifm-color-primary);\nfont-size: 1.2rem;\npadding: 0 0.5rem;\n}\n\n.timeline-content {\npadding: 0.5rem;\nheight: 100%;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\n}\n\n.timeline-content h3 {\nmargin-bottom: 0.25rem;\nfont-size: 1rem;\n}\n\n.timeline-content ul {\nlist-style: disc;\npadding-left: 1.2em;\nmargin: 0;\n}\n\n.timeline-content li {\nmargin: 0.15rem 0;\nfont-size: 0.85rem;\n}\n\n.timeline-content h4 {\ncolor: var(--ifm-color-primary);\nfont-weight: bold;\nmargin-bottom: 0.5em;\nmargin-top: 0;\n}\n"}),"\n",(0,s.jsx)(t.h2,{id:"running-an-agent",children:"Running an Agent"}),"\n",(0,s.jsx)(t.p,{children:"To execute an Agent, there are 2 possibilities depending on the synchronisation."}),"\n",(0,s.jsx)(t.h3,{id:"get-a-complete-answer",children:"Get a Complete Answer"}),"\n",(0,s.jsxs)(t.p,{children:["For when the agent returns a complete response after processing. We will use the ",(0,s.jsx)(t.code,{children:"complete()"})," function:"]}),"\n",(0,s.jsx)(h.A,{language:"python",code:'response = await agent.complete(prompt="What time is it?")'}),"\n",(0,s.jsx)(t.h3,{id:"real-time-streaming-output",children:"Real-Time (Streaming) Output"}),"\n",(0,s.jsxs)(t.p,{children:["Otherwise, when we want to know specific information on each event we can find the response asynchrounsly by running ",(0,s.jsx)(t.code,{children:"run()"}),":"]}),"\n",(0,s.jsx)(h.A,{language:"python",code:'response = async for event in agent.run(prompt="What time is it?"):\n  print(event) '}),"\n",(0,s.jsx)(t.p,{children:"Events tell you what's happening in your agent. Here's what you can do with them:"}),"\n",(0,s.jsx)(h.A,{language:"python",code:'async for event in agent.run(prompt="What time is it?"):\n  if event.type == "START":\n      print(f"Starting Agent: {event.step_id}")'}),"\n",(0,s.jsx)(h.A,{language:"python",code:'async for event in agent.run(prompt="What time is it?"):\n  if event.type == "OUTPUT":\n      print(f"Agent finished in {event.elapsed_time}ms")\n      print(f"Outputs: {event.outputs}")'}),"\n",(0,s.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Try creating your own Agent with different tools"}),"\n",(0,s.jsx)(t.li,{children:"Experiment with different configurations"}),"\n",(0,s.jsxs)(t.li,{children:["See an example agent in ",(0,s.jsx)(t.a,{href:"/examples",children:"Examples"})]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Remember: The more you practice, the better you'll become at creating powerful Agents!"})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},5495:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(6540),s=n(1765),o=n(4848);(void 0!==n.g?n.g:window).Prism=s.My;const h={...s.Zj.github,plain:{...s.Zj.github.plain,backgroundColor:"#2d2d2d",color:"#ffffff"},styles:s.Zj.github.styles.map((e=>({...e,types:e.types})))},a={from:"custom-highlight-pink",import:"custom-highlight-pink",pass:"custom-highlight-pink","|":"custom-highlight-pink","=":"custom-highlight-pink","*":"custom-highlight-pink","/":"custom-highlight-pink","+":"custom-highlight-pink",timbal:"custom-highlight-green",Agent:"custom-highlight-green",steps:"custom-highlight-green",perplexity:"custom-highlight-green",InMemorySaver:"custom-highlight-green",fal:"custom-highlight-green",text_to_image:"custom-highlight-green",RunContext:"custom-highlight-green","@abstractmethod":"custom-highlight-green",put:"custom-highlight-green",get_last:"custom-highlight-green",abc:"custom-highlight-green",ABC:"custom-highlight-green",twilio:"custom-highlight-green",whatsapp:"custom-highlight-green",model:"custom-highlight-orange",None:"custom-highlight-purple",base:"custom-highlight-green",CustomSaver:"custom-highlight-green",BaseSaver:"custom-highlight-green",Snapshot:"custom-highlight-green",query:"custom-highlight-orange",context:"custom-highlight-orange",system_prompt:"custom-highlight-orange",tools:"custom-highlight-orange",parent_id:"custom-highlight-orange",id:"custom-highlight-orange",model_id:"custom-highlight-orange",to:"custom-highlight-orange",message:"custom-highlight-orange",resource:"custom-highlight-orange",self:"custom-highlight-orange",path:"custom-highlight-orange",snapshot:"custom-highlight-orange",max_results:"custom-highlight-orange",message_id:"custom-highlight-orange",thread_id:"custom-highlight-orange",subject:"custom-highlight-orange",body:"custom-highlight-orange",template_sid:"custom-highlight-orange",template_params:"custom-highlight-orange",scope:"custom-highlight-orange",folder:"custom-highlight-orange",destination:"custom-highlight-orange",text:"custom-highlight-orange",voice_id:"custom-highlight-orange",memory_id:"custom-highlight-orange",location:"custom-highlight-orange",celsius:"custom-highlight-orange",fahrenheit:"custom-highlight-orange",threshold:"custom-highlight-orange",full_name:"custom-highlight-orange",memory_window_size:"custom-highlight-orange","(":"custom-highlight-yellow-dark",")":"custom-highlight-yellow-dark","[":"custom-highlight-purple-pink","]":"custom-highlight-purple-pink","{":"custom-highlight-yellow-dark","}":"custom-highlight-yellow-dark",",":"#fffff",Flow:"custom-highlight-green",await:"custom-highlight-pink",as:"custom-highlight-pink",else:"custom-highlight-pink",def:"custom-highlight-blue",async:"custom-highlight-blue",class:"custom-highlight-blue","-":"#fffff",">":"#fffff",":":"#fffff",".":"#fffff",state:"custom-highlight-green",savers:"custom-highlight-green",sharepoint:"custom-highlight-green",Tool:"custom-highlight-green",list_directory:"custom-highlight-green-fn",get_first_name:"custom-highlight-green-fn",get_last_name:"custom-highlight-green-fn",check_full_name:"custom-highlight-green-fn",abstractmethod:"custom-highlight-green-fn",main:"custom-highlight-green-fn",gen_images:"custom-highlight-green-fn",download_file:"custom-highlight-green-fn",TimbalPlatformSaver:"custom-highlight-green",sql:"custom-highlight-green",postgres:"custom-highlight-green",return:"custom-highlight-pink",for:"custom-highlight-pink",in:"custom-highlight-pink",if:"custom-highlight-pink",datetime:"custom-highlight-green",elevenlabs:"custom-highlight-green",gmail:"custom-highlight-green",JSONLSaver:"custom-highlight-green",openai:"custom-highlight-green",messages:"custom-highlight-green",types:"custom-highlight-green",File:"custom-highlight-green",postgres_query:"custom-highlight-green-fn",PGConfig:"custom-highlight-green",get_message:"custom-highlight-green-fn",get_thread:"custom-highlight-green-fn",get_datetime:"custom-highlight-green-fn",send_message:"custom-highlight-green-fn",run_sql_query:"custom-highlight-green-fn",create_draft_message:"custom-highlight-green-fn",send_whatsapp_message:"custom-highlight-green-fn",send_whatsapp_template:"custom-highlight-green-fn",openai_stt:"custom-highlight-green-fn",elevenlabs_tts:"custom-highlight-green-fn",validate:"custom-highlight-green-fn",complete:"custom-highlight-green-fn",print:"custom-highlight-green-fn",search:"custom-highlight-green-fn",search_internet:"custom-highlight-green-fn",stt:"custom-highlight-green-fn",tts:"custom-highlight-green-fn",run:"custom-highlight-green-fn",search_web:"custom-highlight-green-fn",set_input:"custom-highlight-green-fn",extract_text:"custom-highlight-green-fn",text_processor:"custom-highlight-green-fn",convert_to_database:"custom-highlight-green-fn",get_weather:"custom-highlight-green-fn",get_time:"custom-highlight-green-fn",add_step:"custom-highlight-green-fn",add_link:"custom-highlight-green-fn",set_output:"custom-highlight-green-fn",set_data_map:"custom-highlight-green-fn",set_data_value:"custom-highlight-green-fn",get_temperature_celsius:"custom-highlight-green-fn",celsius_to_fahrenheit:"custom-highlight-green-fn",check_threshold:"custom-highlight-green-fn",parse_documentation:"custom-highlight-green-fn",create_database:"custom-highlight-green-fn",add_llm:"custom-highlight-green-fn",compile:"custom-highlight-green-fn",str:"custom-highlight-green"},r=new RegExp(`(${Object.keys(a).map((e=>/^[a-zA-Z0-9_]+$/.test(e)?`\\b${e}\\b`:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")})`,"g"),l=/"([^"]*)"/g;function g(e){const{title:t,children:n,highlight:g}=e,[c,m]=(0,i.useState)(!1),u=g?g.split(",").map((e=>parseInt(e.trim()))):[];return(0,o.jsxs)("div",{className:"custom-codeblock-container",style:{borderRadius:"12px",overflow:"hidden",border:"1px solid #333",marginBottom:"1.5em",position:"relative"},children:[t&&(0,o.jsx)("div",{style:{background:"#2d2d2d",color:"#fff",padding:"0.3em 1em",fontSize:"0.85em",borderBottom:"1.5px solid #444",letterSpacing:"0.01em",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,o.jsx)("span",{children:t})}),(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)(s.f4,{theme:h,...e,children:n=>{let{className:i,style:s,tokens:h,getLineProps:g,getTokenProps:p}=n;const d=h.map((e=>e.map((e=>e.content)).join(""))).join("\n");let f=0,x=0,y=0,j=0;h.forEach((e=>{e.forEach((e=>{const t=p({token:e}).children;"string"==typeof t&&"state_saver"===t.trim()&&x++,"string"==typeof t&&"audio_file"===t.trim()&&y++,"string"==typeof t&&"db_config"===t.trim()&&j++,"string"==typeof t&&"sql"===t.trim()&&0}))}));let w=0,v=0,b=0,k=0,_=[];const A=e=>{const t=(e-1)%3;return 0===t?"custom-highlight-yellow-dark":1===t?{color:"#ff69b4"}:{color:"#42a5f5"}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"copy-icon-btn"+(c?" copied":""),onClick:()=>{navigator.clipboard.writeText(d),m(!0),setTimeout((()=>m(!1)),2e3)},"aria-label":"Copy code",type:"button",style:{position:"absolute",top:t?16:12,right:"1em",zIndex:10,background:"rgba(30,30,30,0.7)",border:"none",borderRadius:"6px",padding:"4px",cursor:"pointer",pointerEvents:"auto",transition:"opacity 0.2s, background 0.2s"},children:c?(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{fill:"#fff",d:"m9.55 15.15l8.475-8.475q.3-.3.7-.3t.7.3t.3.713t-.3.712l-9.175 9.2q-.3.3-.7.3t-.7-.3L4.55 13q-.3-.3-.288-.712t.313-.713t.713-.3t.712.3z"})}):(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,o.jsxs)("g",{fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,o.jsx)("path",{d:"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z"}),(0,o.jsx)("path",{d:"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3"})]})})}),(0,o.jsx)("pre",{className:i,style:{...s,border:"none",borderRadius:0,color:"bash"===e.language?"#ffffff":s.color,margin:0,position:"relative"},children:h.map(((t,n)=>{const i=t.map((e=>p({token:e}).children)).join(""),s=u.includes(n+1),c={...g({line:t}).style,...s?{backgroundColor:"rgba(255, 255, 255, 0.1)",borderLeft:"3px solid #bcb6ff",paddingLeft:"8px",marginLeft:"-8px"}:{}};return/^\s*#/.test(i)?(0,o.jsx)("div",{...g({line:t}),style:c,children:t.map(((t,n)=>{const i=p({token:t});return(0,o.jsx)("span",{className:(e.language,"custom-highlight-comment"),children:i.children},n)}))},n):(0,o.jsxs)("div",{...g({line:t}),style:c,children:[t.map(((t,n)=>{const i=p({token:t});let s=i.children;if("bash"===e.language)return(0,o.jsx)("span",{style:{color:"#ffffff"},children:s},n);const h=[];let g,c=0;for(;null!==(g=l.exec(s));){if(g.index>c){let e=s.slice(c,g.index).replace(r,(e=>`<span class="${a[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),h.push(e)}h.push(`<span class="custom-highlight-yellow">${g[0]}</span>`),c=g.index+g[0].length}if(c<s.length){let e=s.slice(c).replace(r,(e=>`<span class="${a[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),h.push(e)}const m=h.join("");if("string"==typeof s&&"prompt"===s.trim())return f++,1===f?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):2===f?(0,o.jsx)("span",{style:{color:"#fff"},children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"audio_file"===s.trim())return v++,3===y&&2===v?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"state_saver"===s.trim())return w++,1===x&&1===w||2===x&&1===w||3===x&&2===w?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"db_config"===s.trim())return b++,1===j&&1===b||2===j&&1===b||3===j&&2===b?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"sql"===s.trim())return k++,1===k?(0,o.jsx)("span",{className:"custom-highlight-green",children:s},n):2===k||3===k?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("("===s||"{"===s||"["===s){_.push(s);const e=_.length,t=A(e);return"string"==typeof t?(0,o.jsx)("span",{className:t,children:s},n):(0,o.jsx)("span",{style:t,children:s},n)}if(")"===s||"}"===s||"]"===s){const e=_.length,t=A(e);let i;i="string"==typeof t?(0,o.jsx)("span",{className:t,children:s},n):(0,o.jsx)("span",{style:t,children:s},n);const h=_[_.length-1];return(")"===s&&"("===h||"}"===s&&"{"===h||"]"===s&&"["===h)&&_.pop(),i}return m!==s?(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:m}},n):(0,o.jsx)("span",{...i},n)})),n===h.length-1&&(0,o.jsx)("span",{style:{display:"inline-block",width:"1em"}})]},n)}))})]})}})})]})}},8453:(e,t,n)=>{n.d(t,{R:()=>h,x:()=>a});var i=n(6540);const s={},o=i.createContext(s);function h(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:h(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);