"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2954],{3417:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>h,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"flows/advanced","title":"Advanced Flow Concepts","description":"---","source":"@site/docs/flows/advanced.md","sourceDirName":"flows","slug":"/flows/advanced","permalink":"/flows/advanced","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Advanced Flow Concepts","sidebar":"docsSidebar"},"sidebar":"docsSidebar","previous":{"title":"Using Memory","permalink":"/flows/memory"},"next":{"title":"Overview","permalink":"/state/"}}');var s=n(4848),o=n(8453),l=n(5495);const r={title:"Advanced Flow Concepts",sidebar:"docsSidebar"},h=void 0,a={},g=[{value:"Conditional Branching",id:"conditional-branching",level:2},{value:"Example: One Conditional Link",id:"example-one-conditional-link",level:3},{value:"Tool Integration:",id:"tool-integration",level:2},{value:"Example: LLM with Weather Tool",id:"example-llm-with-weather-tool",level:3},{value:"Nesting Flows",id:"nesting-flows",level:2},{value:"Example: Email Processing and Summarization",id:"example-email-processing-and-summarization",level:3},{value:"Debugging and Visualization",id:"debugging-and-visualization",level:2}];function c(e){const t={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"conditional-branching",children:"Conditional Branching"}),"\n",(0,s.jsx)(t.p,{children:"Flows can make decisions about which path to take using conditional links."}),"\n",(0,s.jsx)(t.p,{children:"This enables dynamic, data-driven workflows\u2014where the next step depends on the result of a previous step."}),"\n",(0,s.jsx)(t.h3,{id:"example-one-conditional-link",children:"Example: One Conditional Link"}),"\n",(0,s.jsx)(t.p,{children:"Suppose you want to review a document, and if it contains sensitive information, notify compliance; otherwise, archive it."}),"\n",(0,s.jsx)(l.A,{language:"python",code:'from timbal import Flow\n\ndef check_vip(user):\n  return user["is_vip"]\n\ndef send_discount_email(user):\n  # In a real app, this would send an email\n  return f"Discount email sent to {user[\'email\']}!"\n\nflow = (\n  Flow()\n  .add_step("check", check_vip)\n  .add_step("send_email", send_discount_email)\n  # Only send email if user is VIP\n  .add_link("check", "send_email", condition="{{check.return}} == True")\n  .set_input("check.user", "user_info")\n  .set_data_map("send_email.user", "check.user")\n  .set_output("send_email.return", "result")\n)\n\nasync def main():\n  vip_user = {"email": "alice@example.com", "is_vip": True}\n  regular_user = {"email": "bob@example.com", "is_vip": False}\n\n  result = await flow.complete(user_info=vip_user)\n  # Output: Discount email sent to alice@example.com!\n\n  result = await flow.complete(user_info=regular_user)\n  # Output: None\n'}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"How it works"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The check step checks if the user is a VIP."}),"\n",(0,s.jsx)(t.li,{children:"If is_vip is True, the flow continues to send_email."}),"\n",(0,s.jsx)(t.li,{children:"If not, the flow ends and no email is sent (no result is produced)."}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"tool-integration",children:"Tool Integration:"}),"\n",(0,s.jsxs)(t.p,{children:["LLMs in flows can call tools (functions or APIs) as part of their reasoning.",(0,s.jsx)(t.br,{}),"\n","You can link LLM steps to tool steps using ",(0,s.jsx)(t.code,{children:"is_tool=True"})," and ",(0,s.jsx)(t.code,{children:"is_tool_result=True"}),":"]}),"\n",(0,s.jsx)(t.h3,{id:"example-llm-with-weather-tool",children:"Example: LLM with Weather Tool"}),"\n",(0,s.jsx)(t.p,{children:"Suppose you want your LLM to answer general questions, but if the user asks about the weather, it should call a weather tool to get the latest information."}),"\n",(0,s.jsx)(l.A,{language:"python",code:'from timbal import Flow\n\ndef get_weather(city):\n  # Simulate a weather API call \n  return f"The weather in {city} is sunny and 25\xb0C."\n\nflow = (\n  Flow()\n  .add_llm("llm", model="gpt-4.1-nano", memory_id="llm")\n  .set_input("llm.prompt", "user_question")\n  .add_step("weather_tool", get_weather) \n  # Link the LLM to the weather tool as a callable function\n  .add_link("llm", "weather_tool", is_tool=True)\n  # Setting the same memory as the first LLM\n  .add_llm("llm2", model="gpt-4.1-nano", memory_id="llm")\n  .add_link("weather_tool", "llm2", is_tool_result=True)\n  # Return the tool result to the LLM for final response\n  .set_output("llm2.return", "response")\n)\n  \nasync def main(): \n  result = await flow.complete(user_question="What\'s the weather in Paris?")\n  print(result.output["response"].content[0].text)\n  # Output: The weather in Paris is sunny and 25\xb0C.'}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Key Points"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"memory_id"}),": Enables memory for LLMs. Using the same ",(0,s.jsx)(t.code,{children:"memory_id"})," for both LLMs means they share context and conversation history."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"is_tool"})," / ",(0,s.jsx)(t.code,{children:"is_tool_result"}),": Allows the LLM to call a tool and then use the tool\u2019s result in a follow-up LLM step."]}),"\n",(0,s.jsxs)(t.li,{children:["Chaining with memory: The second LLM (",(0,s.jsx)(t.strong,{children:"llm2"}),") can generate a more informed, context-aware response because it shares memory with the first LLM."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"nesting-flows",children:"Nesting Flows"}),"\n",(0,s.jsx)(t.p,{children:"You can use a flow as a step inside another flow, enabling modular, reusable workflow components."}),"\n",(0,s.jsx)(t.h3,{id:"example-email-processing-and-summarization",children:"Example: Email Processing and Summarization"}),"\n",(0,s.jsx)(t.p,{children:"Suppose you want to process incoming emails by first extracting the main content and then summarizing it with an LLM."}),"\n",(0,s.jsx)(t.p,{children:"You can define a reusable subflow for the extraction and summarization, and then use it as a step in your main workflow."}),"\n",(0,s.jsx)(l.A,{language:"python",code:'from timbal import Flow\n\ndef validate_order(order):\n  # Simulate checking if the order is valid\n  if order["quantity"] > 0 and order["item"] in ["apple", "banana"]:\n      return {"valid": True, "item": order["item"], "quantity": order["quantity"]}\n  else:\n      return {"valid": False, "reason": "Invalid item or quantity"}\n\ndef confirm_order(validated):\n  if validated["valid"]:\n      return f"Order confirmed: {validated[\'quantity\']} {validated[\'item\']}(s)."\n  else:\n      return f"Order failed: {validated[\'reason\']}"\n\n# Define the reusable subflow for validation\nvalidation_flow = (\n  Flow()\n  .add_step("validate", validate_order)\n  .set_input("validate.order", "order")\n  .set_output("validate.return", "validated")\n)\n\n# Main flow uses the subflow and then confirms the order\nmain_flow = (\n  Flow()\n  .add_step("get_order", lambda: {"item": "apple", "quantity": 3})\n  .add_step("validate_order", validation_flow)\n  .add_step("confirm", confirm_order)\n  .set_data_map("validate_order.order", "get_order.return")\n  .set_data_map("confirm.validated", "validate_order.return.validated")\n  .set_output("confirm.return", "confirmation")\n)\n\nasync def main():\n  result = await main_flow.complete()\n  print(result.output["confirmation"])\n  # Output: Order confirmed: 3 apple(s).'}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='flow', ...)"})}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='flow.get_order', ...)"})}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='flow.validate_order', ...)"})}),"\n",(0,s.jsxs)(n,{className:"log-step-collapsible",children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"OutputEvent(...,path='flow.get_order', ...)\n)"})}),(0,s.jsx)(l.A,{language:"bash",code:"OutputEvent(\n  ..., \n  path='flow.get_order',\n  input={},\n  output={'item': 'apple', 'quantity': 3}, \n  ...\n)"})]}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='flow.validate_order', ...)"})}),"\n",(0,s.jsx)("div",{className:"log-step-static",children:(0,s.jsx)(t.p,{children:"StartEvent(..., path='flow.validate_order.validate', ...)"})}),"\n",(0,s.jsxs)(n,{className:"log-step-collapsible",children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"OutputEvent(..., path='flow.validate_order.validate', ...)"})}),(0,s.jsx)(l.A,{language:"bash",code:"OutputEvent(\n  ...,\n  path='flow',\n  input={},\n  output={'confirmation': 'Order confirmed: 3 apple(s).'},\n  ...\n)"})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"debugging-and-visualization",children:"Debugging and Visualization"}),"\n",(0,s.jsxs)(t.p,{children:["Use Timbal's built-in tools to visualize and debug your flows.",(0,s.jsx)(t.br,{}),"\n","You can inspect the execution graph, step outputs, and data mappings to understand and optimize your workflow."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsxs)(t.p,{children:["For more, see the ",(0,s.jsx)(t.a,{href:"/flows",children:"Flows Overview"})," and ",(0,s.jsx)(t.a,{href:"/examples",children:"Examples"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},5495:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(6540),s=n(1765),o=n(4848);(void 0!==n.g?n.g:window).Prism=s.My;const l={...s.Zj.github,plain:{...s.Zj.github.plain,backgroundColor:"#2d2d2d",color:"#ffffff"},styles:s.Zj.github.styles.map((e=>({...e,types:e.types})))},r={from:"custom-highlight-pink",import:"custom-highlight-pink",pass:"custom-highlight-pink","|":"custom-highlight-pink","=":"custom-highlight-pink","*":"custom-highlight-pink","/":"custom-highlight-pink","+":"custom-highlight-pink",timbal:"custom-highlight-green",Agent:"custom-highlight-green",steps:"custom-highlight-green",perplexity:"custom-highlight-green",InMemorySaver:"custom-highlight-green",fal:"custom-highlight-green",text_to_image:"custom-highlight-green",RunContext:"custom-highlight-green","@abstractmethod":"custom-highlight-green",put:"custom-highlight-green",get_last:"custom-highlight-green",abc:"custom-highlight-green",ABC:"custom-highlight-green",twilio:"custom-highlight-green",whatsapp:"custom-highlight-green",model:"custom-highlight-orange",None:"custom-highlight-purple",base:"custom-highlight-green",CustomSaver:"custom-highlight-green",BaseSaver:"custom-highlight-green",Snapshot:"custom-highlight-green",query:"custom-highlight-orange",context:"custom-highlight-orange",system_prompt:"custom-highlight-orange",tools:"custom-highlight-orange",parent_id:"custom-highlight-orange",id:"custom-highlight-orange",model_id:"custom-highlight-orange",to:"custom-highlight-orange",message:"custom-highlight-orange",resource:"custom-highlight-orange",self:"custom-highlight-orange",path:"custom-highlight-orange",snapshot:"custom-highlight-orange",max_results:"custom-highlight-orange",message_id:"custom-highlight-orange",thread_id:"custom-highlight-orange",subject:"custom-highlight-orange",body:"custom-highlight-orange",template_sid:"custom-highlight-orange",template_params:"custom-highlight-orange",scope:"custom-highlight-orange",folder:"custom-highlight-orange",destination:"custom-highlight-orange",text:"custom-highlight-orange",voice_id:"custom-highlight-orange",memory_id:"custom-highlight-orange",location:"custom-highlight-orange",celsius:"custom-highlight-orange",fahrenheit:"custom-highlight-orange",threshold:"custom-highlight-orange",full_name:"custom-highlight-orange",memory_window_size:"custom-highlight-orange","(":"custom-highlight-yellow-dark",")":"custom-highlight-yellow-dark","[":"custom-highlight-purple-pink","]":"custom-highlight-purple-pink","{":"custom-highlight-yellow-dark","}":"custom-highlight-yellow-dark",",":"#fffff",Flow:"custom-highlight-green",await:"custom-highlight-pink",as:"custom-highlight-pink",else:"custom-highlight-pink",def:"custom-highlight-blue",async:"custom-highlight-blue",class:"custom-highlight-blue","-":"#fffff",">":"#fffff",":":"#fffff",".":"#fffff",state:"custom-highlight-green",savers:"custom-highlight-green",sharepoint:"custom-highlight-green",Tool:"custom-highlight-green",list_directory:"custom-highlight-green-fn",get_first_name:"custom-highlight-green-fn",get_last_name:"custom-highlight-green-fn",check_full_name:"custom-highlight-green-fn",abstractmethod:"custom-highlight-green-fn",main:"custom-highlight-green-fn",gen_images:"custom-highlight-green-fn",download_file:"custom-highlight-green-fn",TimbalPlatformSaver:"custom-highlight-green",sql:"custom-highlight-green",postgres:"custom-highlight-green",return:"custom-highlight-pink",for:"custom-highlight-pink",in:"custom-highlight-pink",if:"custom-highlight-pink",datetime:"custom-highlight-green",elevenlabs:"custom-highlight-green",gmail:"custom-highlight-green",JSONLSaver:"custom-highlight-green",openai:"custom-highlight-green",messages:"custom-highlight-green",types:"custom-highlight-green",File:"custom-highlight-green",postgres_query:"custom-highlight-green-fn",PGConfig:"custom-highlight-green",get_message:"custom-highlight-green-fn",get_thread:"custom-highlight-green-fn",get_datetime:"custom-highlight-green-fn",send_message:"custom-highlight-green-fn",run_sql_query:"custom-highlight-green-fn",create_draft_message:"custom-highlight-green-fn",send_whatsapp_message:"custom-highlight-green-fn",send_whatsapp_template:"custom-highlight-green-fn",openai_stt:"custom-highlight-green-fn",elevenlabs_tts:"custom-highlight-green-fn",validate:"custom-highlight-green-fn",complete:"custom-highlight-green-fn",print:"custom-highlight-green-fn",search:"custom-highlight-green-fn",search_internet:"custom-highlight-green-fn",stt:"custom-highlight-green-fn",tts:"custom-highlight-green-fn",run:"custom-highlight-green-fn",search_web:"custom-highlight-green-fn",set_input:"custom-highlight-green-fn",extract_text:"custom-highlight-green-fn",text_processor:"custom-highlight-green-fn",convert_to_database:"custom-highlight-green-fn",get_weather:"custom-highlight-green-fn",get_time:"custom-highlight-green-fn",add_step:"custom-highlight-green-fn",add_link:"custom-highlight-green-fn",set_output:"custom-highlight-green-fn",set_data_map:"custom-highlight-green-fn",set_data_value:"custom-highlight-green-fn",get_temperature_celsius:"custom-highlight-green-fn",celsius_to_fahrenheit:"custom-highlight-green-fn",check_threshold:"custom-highlight-green-fn",parse_documentation:"custom-highlight-green-fn",create_database:"custom-highlight-green-fn",add_llm:"custom-highlight-green-fn",compile:"custom-highlight-green-fn",str:"custom-highlight-green"},h=new RegExp(`(${Object.keys(r).map((e=>/^[a-zA-Z0-9_]+$/.test(e)?`\\b${e}\\b`:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")})`,"g"),a=/"([^"]*)"/g;function g(e){const{title:t,children:n,highlight:g}=e,[c,d]=(0,i.useState)(!1),u=g?g.split(",").map((e=>parseInt(e.trim()))):[];return(0,o.jsxs)("div",{className:"custom-codeblock-container",style:{borderRadius:"12px",overflow:"hidden",border:"1px solid #333",marginBottom:"1.5em",position:"relative"},children:[t&&(0,o.jsx)("div",{style:{background:"#2d2d2d",color:"#fff",padding:"0.3em 1em",fontSize:"0.85em",borderBottom:"1.5px solid #444",letterSpacing:"0.01em",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,o.jsx)("span",{children:t})}),(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)(s.f4,{theme:l,...e,children:n=>{let{className:i,style:s,tokens:l,getLineProps:g,getTokenProps:m}=n;const p=l.map((e=>e.map((e=>e.content)).join(""))).join("\n");let f=0,x=0,_=0,w=0;l.forEach((e=>{e.forEach((e=>{const t=m({token:e}).children;"string"==typeof t&&"state_saver"===t.trim()&&x++,"string"==typeof t&&"audio_file"===t.trim()&&_++,"string"==typeof t&&"db_config"===t.trim()&&w++,"string"==typeof t&&"sql"===t.trim()&&0}))}));let v=0,j=0,b=0,y=0,k=[];const L=e=>{const t=(e-1)%3;return 0===t?"custom-highlight-yellow-dark":1===t?{color:"#ff69b4"}:{color:"#42a5f5"}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"copy-icon-btn"+(c?" copied":""),onClick:()=>{navigator.clipboard.writeText(p),d(!0),setTimeout((()=>d(!1)),2e3)},"aria-label":"Copy code",type:"button",style:{position:"absolute",top:t?16:12,right:"1em",zIndex:10,background:"rgba(30,30,30,0.7)",border:"none",borderRadius:"6px",padding:"4px",cursor:"pointer",pointerEvents:"auto",transition:"opacity 0.2s, background 0.2s"},children:c?(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{fill:"#fff",d:"m9.55 15.15l8.475-8.475q.3-.3.7-.3t.7.3t.3.713t-.3.712l-9.175 9.2q-.3.3-.7.3t-.7-.3L4.55 13q-.3-.3-.288-.712t.313-.713t.713-.3t.712.3z"})}):(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,o.jsxs)("g",{fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,o.jsx)("path",{d:"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z"}),(0,o.jsx)("path",{d:"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3"})]})})}),(0,o.jsx)("pre",{className:i,style:{...s,border:"none",borderRadius:0,color:"bash"===e.language?"#ffffff":s.color,margin:0,position:"relative"},children:l.map(((t,n)=>{const i=t.map((e=>m({token:e}).children)).join(""),s=u.includes(n+1),c={...g({line:t}).style,...s?{backgroundColor:"rgba(255, 255, 255, 0.1)",borderLeft:"3px solid #bcb6ff",paddingLeft:"8px",marginLeft:"-8px"}:{}};return/^\s*#/.test(i)?(0,o.jsx)("div",{...g({line:t}),style:c,children:t.map(((t,n)=>{const i=m({token:t});return(0,o.jsx)("span",{className:(e.language,"custom-highlight-comment"),children:i.children},n)}))},n):(0,o.jsxs)("div",{...g({line:t}),style:c,children:[t.map(((t,n)=>{const i=m({token:t});let s=i.children;if("bash"===e.language)return(0,o.jsx)("span",{style:{color:"#ffffff"},children:s},n);const l=[];let g,c=0;for(;null!==(g=a.exec(s));){if(g.index>c){let e=s.slice(c,g.index).replace(h,(e=>`<span class="${r[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),l.push(e)}l.push(`<span class="custom-highlight-yellow">${g[0]}</span>`),c=g.index+g[0].length}if(c<s.length){let e=s.slice(c).replace(h,(e=>`<span class="${r[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),l.push(e)}const d=l.join("");if("string"==typeof s&&"prompt"===s.trim())return f++,1===f?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):2===f?(0,o.jsx)("span",{style:{color:"#fff"},children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"audio_file"===s.trim())return j++,3===_&&2===j?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"state_saver"===s.trim())return v++,1===x&&1===v||2===x&&1===v||3===x&&2===v?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"db_config"===s.trim())return b++,1===w&&1===b||2===w&&1===b||3===w&&2===b?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("string"==typeof s&&"sql"===s.trim())return y++,1===y?(0,o.jsx)("span",{className:"custom-highlight-green",children:s},n):2===y||3===y?(0,o.jsx)("span",{className:"custom-highlight-orange",children:s},n):(0,o.jsx)("span",{...i},n);if("("===s||"{"===s||"["===s){k.push(s);const e=k.length,t=L(e);return"string"==typeof t?(0,o.jsx)("span",{className:t,children:s},n):(0,o.jsx)("span",{style:t,children:s},n)}if(")"===s||"}"===s||"]"===s){const e=k.length,t=L(e);let i;i="string"==typeof t?(0,o.jsx)("span",{className:t,children:s},n):(0,o.jsx)("span",{style:t,children:s},n);const l=k[k.length-1];return(")"===s&&"("===l||"}"===s&&"{"===l||"]"===s&&"["===l)&&k.pop(),i}return d!==s?(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:d}},n):(0,o.jsx)("span",{...i},n)})),n===l.length-1&&(0,o.jsx)("span",{style:{display:"inline-block",width:"1em"}})]},n)}))})]})}})})]})}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var i=n(6540);const s={},o=i.createContext(s);function l(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);