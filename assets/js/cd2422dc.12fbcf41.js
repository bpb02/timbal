"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1807],{4267:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"integrations/gmail","title":"Gmail","description":"Timbal integrates with Gmail to enable sending, searching, and managing emails programmatically. This integration allows you to send emails, create drafts, search messages, and handle attachments directly from your Timbal workflows.","source":"@site/docs/integrations/gmail.md","sourceDirName":"integrations","slug":"/integrations/gmail","permalink":"/integrations/gmail","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Gmail","sidebar":"docsSidebar"},"sidebar":"docsSidebar","previous":{"title":"Twilio","permalink":"/integrations/twilio"},"next":{"title":"SharePoint","permalink":"/integrations/sharepoint"}}');var n=s(4848),r=s(8453),l=s(5495),h=s(9593);const a={title:"Gmail",sidebar:"docsSidebar"},c="Gmail Integration",d={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Authentication Setup",id:"authentication-setup",level:2},{value:"Installation",id:"installation",level:2},{value:"<span><strong>Send Email</strong></span>",id:"send-email",level:2},{value:"Description",id:"description",level:3},{value:"Example",id:"example",level:3},{value:"Parameters",id:"parameters",level:3},{value:"<span><strong>Create Draft</strong></span>",id:"create-draft",level:2},{value:"Description",id:"description-1",level:3},{value:"Example",id:"example-1",level:3},{value:"Parameters",id:"parameters-1",level:3},{value:"<span><strong>Search Messages/Threads</strong></span>",id:"search-messagesthreads",level:2},{value:"Description",id:"description-2",level:3},{value:"Example",id:"example-2",level:3},{value:"Parameters",id:"parameters-2",level:3},{value:"<span><strong>Get Message/Thread</strong></span>",id:"get-messagethread",level:2},{value:"Description",id:"description-3",level:3},{value:"Example",id:"example-3",level:3},{value:"Parameters (get_message)",id:"parameters-get_message",level:3},{value:"Parameters (get_thread)",id:"parameters-get_thread",level:3},{value:"Agent Integration Example",id:"agent-integration-example",level:2},{value:"Notes",id:"notes",level:2}];function g(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"gmail-integration",children:"Gmail Integration"})}),"\n",(0,n.jsx)(t.p,{children:"Timbal integrates with Gmail to enable sending, searching, and managing emails programmatically. This integration allows you to send emails, create drafts, search messages, and handle attachments directly from your Timbal workflows."}),"\n",(0,n.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsx)(t.p,{children:"Before using the Gmail integration, you'll need:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"A Google account with Gmail access"}),"\n",(0,n.jsx)(t.li,{children:"A Google Cloud project with the Gmail API enabled"}),"\n",(0,n.jsxs)(t.li,{children:["OAuth 2.0 credentials (see ",(0,n.jsx)(t.a,{href:"https://console.cloud.google.com",children:"Google Cloud Console"}),")"]}),"\n",(0,n.jsxs)(t.li,{children:["Download your credentials as ",(0,n.jsx)(t.code,{children:"gmail_credentials.json"})," and place it in the appropriate directory"]}),"\n",(0,n.jsxs)(t.li,{children:["Authenticate for the first time to generate ",(0,n.jsx)(t.code,{children:"token.json"})," (see below)"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"authentication-setup",children:"Authentication Setup"}),"\n",(0,n.jsx)(t.p,{children:"The first time you use the integration, you'll be prompted to authenticate:"}),"\n",(0,n.jsx)(l.A,{language:"bash",code:"uv run authenticate.py"}),"\n",(0,n.jsxs)(t.p,{children:["This will open a browser window for Google sign-in and create a ",(0,n.jsx)(t.code,{children:"token.json"})," file for future use."]}),"\n",(0,n.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(t.p,{children:"Install the requirements by doing:"}),"\n",(0,n.jsx)(l.A,{language:"bash",code:"uv add timbal[steps-gmail]"}),"\n",(0,n.jsx)(t.h2,{id:"send-email",children:(0,n.jsx)("span",{style:{color:"var(--timbal-purple)"},children:(0,n.jsx)("strong",{children:"Send Email"})})}),"\n",(0,n.jsx)(t.h3,{id:"description",children:"Description"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"send_message"})," step allows you to send an email (with optional CC, BCC, and attachments) from your authenticated Gmail account."]}),"\n",(0,n.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,n.jsx)(l.A,{language:"python",code:'from timbal.steps.gmail.messages import send_message\n\nawait send_message(\n  to=["recipient@example.com"],\n  subject="Hello from Timbal!",\n  body="This is a test email."\n)'}),"\n",(0,n.jsx)(t.h3,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(h.A,{className:"wider-table",children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"15%"}}),(0,n.jsx)("col",{style:{width:"10%"}}),(0,n.jsx)("col",{style:{width:"60%"}}),(0,n.jsx)("col",{style:{width:"15%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Parameter"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Description"}),(0,n.jsx)("th",{children:"Required"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"to"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"list[str]"})}),(0,n.jsx)("td",{children:"Email addresses of the recipients"}),(0,n.jsx)("td",{children:"Yes"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"body"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"The body of the email"}),(0,n.jsx)("td",{children:"Yes"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"subject"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"The subject of the email"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"cc"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"list[str]"})}),(0,n.jsx)("td",{children:"Email addresses to include in CC"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"bcc"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"list[str]"})}),(0,n.jsx)("td",{children:"Email addresses to include in BCC"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"attachment"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"Path to a file to attach"}),(0,n.jsx)("td",{children:"No"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"create-draft",children:(0,n.jsx)("span",{style:{color:"var(--timbal-purple)"},children:(0,n.jsx)("strong",{children:"Create Draft"})})}),"\n",(0,n.jsx)(t.h3,{id:"description-1",children:"Description"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"create_draft_message"})," step allows you to create a draft email (with optional CC, BCC, and attachments)."]}),"\n",(0,n.jsx)(t.h3,{id:"example-1",children:"Example"}),"\n",(0,n.jsx)(l.A,{language:"python",code:'from timbal.steps.gmail.messages import create_draft_message\n\nawait create_draft_message(\n  to=["recipient@example.com"],\n  subject="Draft Subject",\n  body="Draft content."\n)'}),"\n",(0,n.jsx)(t.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,n.jsxs)(h.A,{className:"wider-table",children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"15%"}}),(0,n.jsx)("col",{style:{width:"10%"}}),(0,n.jsx)("col",{style:{width:"60%"}}),(0,n.jsx)("col",{style:{width:"15%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Parameter"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Description"}),(0,n.jsx)("th",{children:"Required"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"to"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"list[str]"})}),(0,n.jsx)("td",{children:"Email addresses of the recipients"}),(0,n.jsx)("td",{children:"Yes"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"body"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"The body of the email"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"subject"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"The subject of the email"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"cc"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"list[str]"})}),(0,n.jsx)("td",{children:"Email addresses to include in CC"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"bcc"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"list[str]"})}),(0,n.jsx)("td",{children:"Email addresses to include in BCC"}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"attachment"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"Path to a file to attach"}),(0,n.jsx)("td",{children:"No"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"search-messagesthreads",children:(0,n.jsx)("span",{style:{color:"var(--timbal-purple)"},children:(0,n.jsx)("strong",{children:"Search Messages/Threads"})})}),"\n",(0,n.jsx)(t.h3,{id:"description-2",children:"Description"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"search"})," step allows you to search Gmail messages or threads using Gmail's search syntax."]}),"\n",(0,n.jsx)(t.h3,{id:"example-2",children:"Example"}),"\n",(0,n.jsx)(l.A,{language:"python",code:'from timbal.steps.gmail.messages import search\n\nresults = await search(query="from:someone@example.com", resource="messages", max_results=5)'}),"\n",(0,n.jsx)(t.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,n.jsxs)(h.A,{className:"wider-table",children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"15%"}}),(0,n.jsx)("col",{style:{width:"10%"}}),(0,n.jsx)("col",{style:{width:"60%"}}),(0,n.jsx)("col",{style:{width:"15%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Parameter"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Description"}),(0,n.jsx)("th",{children:"Required"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"query"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"Search query using Gmail's search syntax"}),(0,n.jsx)("td",{children:"Yes"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"resource"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:'Type of resource to search: "messages" or "threads"'}),(0,n.jsx)("td",{children:"No"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"max_results"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"int"})}),(0,n.jsx)("td",{children:"Maximum number of results to return"}),(0,n.jsx)("td",{children:"No"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"get-messagethread",children:(0,n.jsx)("span",{style:{color:"var(--timbal-purple)"},children:(0,n.jsx)("strong",{children:"Get Message/Thread"})})}),"\n",(0,n.jsx)(t.h3,{id:"description-3",children:"Description"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"get_message"})," and ",(0,n.jsx)(t.strong,{children:"get_thread"})," steps allow you to retrieve a specific email or thread by ID."]}),"\n",(0,n.jsx)(t.h3,{id:"example-3",children:"Example"}),"\n",(0,n.jsx)(l.A,{language:"python",code:'from timbal.steps.gmail.messages import get_message, get_thread\n\nretrieved_message = await get_message(message_id="your-message-id")\nretrieved_thread = await get_thread(thread_id="your-thread-id")'}),"\n",(0,n.jsx)(t.h3,{id:"parameters-get_message",children:"Parameters (get_message)"}),"\n",(0,n.jsxs)(h.A,{className:"wider-table",children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"15%"}}),(0,n.jsx)("col",{style:{width:"10%"}}),(0,n.jsx)("col",{style:{width:"60%"}}),(0,n.jsx)("col",{style:{width:"15%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Parameter"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Description"}),(0,n.jsx)("th",{children:"Required"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"message_id"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"The ID of the message to get"}),(0,n.jsx)("td",{children:"Yes"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"message_format"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:'Format: "minimal", "full", "raw", or "metadata" (default: "full")'}),(0,n.jsx)("td",{children:"No"})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"parameters-get_thread",children:"Parameters (get_thread)"}),"\n",(0,n.jsxs)(h.A,{className:"wider-table",children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"15%"}}),(0,n.jsx)("col",{style:{width:"10%"}}),(0,n.jsx)("col",{style:{width:"60%"}}),(0,n.jsx)("col",{style:{width:"15%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Parameter"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Description"}),(0,n.jsx)("th",{children:"Required"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"thread_id"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:"The ID of the thread to get"}),(0,n.jsx)("td",{children:"Yes"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"message_format"})}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{children:"str"})}),(0,n.jsx)("td",{children:'Format: "minimal", "full", "raw", or "metadata" (default: "full")'}),(0,n.jsx)("td",{children:"No"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"agent-integration-example",children:"Agent Integration Example"}),"\n",(0,n.jsx)(l.A,{language:"python",code:'from timbal.steps.gmail.messages import send_message\nfrom timbal import Agent\n\nagent = Agent(\n  tools=[send_message]\n)\n\nresponse = await agent.complete(\n  prompt={\n      "to": ["recipient@example.com"],\n      "subject": "Hello from Agent!",\n      "body": "This is a test email sent by Agent."\n  }\n)'}),"\n",(0,n.jsx)(t.h2,{id:"notes",children:"Notes"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Make sure your Google Cloud project is properly configured and credentials are in place."}),"\n",(0,n.jsxs)(t.li,{children:["The first authentication will prompt a browser sign-in and create a ",(0,n.jsx)(t.code,{children:"token.json"})," file for future use."]}),"\n",(0,n.jsxs)(t.li,{children:["For more advanced usage, see the ",(0,n.jsx)(t.a,{href:"https://developers.google.com/gmail/api/guides",children:"Gmail API documentation"}),"."]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(g,{...e})}):g(e)}},5495:(e,t,s)=>{s.d(t,{A:()=>d});var i=s(6540),n=s(1765),r=s(4848);(void 0!==s.g?s.g:window).Prism=n.My;const l={...n.Zj.github,plain:{...n.Zj.github.plain,backgroundColor:"#2d2d2d",color:"#ffffff"},styles:n.Zj.github.styles.map((e=>({...e,types:e.types})))},h={from:"custom-highlight-pink",import:"custom-highlight-pink","=":"custom-highlight-pink",timbal:"custom-highlight-green",Agent:"custom-highlight-green",steps:"custom-highlight-green",perplexity:"custom-highlight-green",InMemorySaver:"custom-highlight-green",fal:"custom-highlight-green",text_to_image:"custom-highlight-green",RunContext:"custom-highlight-green",twilio:"custom-highlight-green",whatsapp:"custom-highlight-green",model:"custom-highlight-orange",query:"custom-highlight-orange",context:"custom-highlight-orange",system_prompt:"custom-highlight-orange",tools:"custom-highlight-orange",parent_id:"custom-highlight-orange",id:"custom-highlight-orange",model_id:"custom-highlight-orange",to:"custom-highlight-orange",message:"custom-highlight-orange",resource:"custom-highlight-orange",max_results:"custom-highlight-orange",message_id:"custom-highlight-orange",thread_id:"custom-highlight-orange",subject:"custom-highlight-orange",body:"custom-highlight-orange",template_sid:"custom-highlight-orange",template_params:"custom-highlight-orange",scope:"custom-highlight-orange",folder:"custom-highlight-orange",destination:"custom-highlight-orange",text:"custom-highlight-orange",voice_id:"custom-highlight-orange",memory_id:"custom-highlight-orange",location:"custom-highlight-orange",memory_window_size:"custom-highlight-orange","(":"custom-highlight-yellow-dark",")":"custom-highlight-yellow-dark","[":"custom-highlight-purple-pink","]":"custom-highlight-purple-pink","{":"custom-highlight-yellow-dark","}":"custom-highlight-yellow-dark",",":"#fffff",Flow:"custom-highlight-green",await:"custom-highlight-pink",as:"custom-highlight-pink",def:"custom-highlight-blue",async:"custom-highlight-blue","-":"#fffff",">":"#fffff",":":"#fffff",".":"#fffff",state:"custom-highlight-green",savers:"custom-highlight-green",sharepoint:"custom-highlight-green",Tool:"custom-highlight-green",list_directory:"custom-highlight-green-fn",gen_images:"custom-highlight-green-fn",download_file:"custom-highlight-green-fn",TimbalPlatformSaver:"custom-highlight-green",sql:"custom-highlight-green",postgres:"custom-highlight-green",return:"custom-highlight-pink",for:"custom-highlight-pink",in:"custom-highlight-pink",if:"custom-highlight-pink",datetime:"custom-highlight-green",elevenlabs:"custom-highlight-green",gmail:"custom-highlight-green",JSONLSaver:"custom-highlight-green",openai:"custom-highlight-green",messages:"custom-highlight-green",types:"custom-highlight-green",File:"custom-highlight-green",postgres_query:"custom-highlight-green-fn",PGConfig:"custom-highlight-green",get_message:"custom-highlight-green-fn",get_thread:"custom-highlight-green-fn",get_datetime:"custom-highlight-green-fn",send_message:"custom-highlight-green-fn",run_sql_query:"custom-highlight-green-fn",create_draft_message:"custom-highlight-green-fn",send_whatsapp_message:"custom-highlight-green-fn",send_whatsapp_template:"custom-highlight-green-fn",openai_stt:"custom-highlight-green-fn",elevenlabs_tts:"custom-highlight-green-fn",validate:"custom-highlight-green-fn",complete:"custom-highlight-green-fn",print:"custom-highlight-green-fn",search:"custom-highlight-green-fn",search_internet:"custom-highlight-green-fn",stt:"custom-highlight-green-fn",tts:"custom-highlight-green-fn",run:"custom-highlight-green-fn",search_web:"custom-highlight-green-fn",set_input:"custom-highlight-green-fn",extract_text:"custom-highlight-green-fn",text_processor:"custom-highlight-green-fn",convert_to_database:"custom-highlight-green-fn",get_weather:"custom-highlight-green-fn",get_time:"custom-highlight-green-fn",add_step:"custom-highlight-green-fn",add_link:"custom-highlight-green-fn",set_output:"custom-highlight-green-fn",parse_documentation:"custom-highlight-green-fn",create_database:"custom-highlight-green-fn",add_llm:"custom-highlight-green-fn",compile:"custom-highlight-green-fn",str:"custom-highlight-green"},a=new RegExp(`(${Object.keys(h).map((e=>/^[a-zA-Z0-9_]+$/.test(e)?`\\b${e}\\b`:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")})`,"g"),c=/"([^"]*)"/g;function d(e){const{title:t,children:s,highlight:d}=e,[o,g]=(0,i.useState)(!1),m=d?d.split(",").map((e=>parseInt(e.trim()))):[];return(0,r.jsxs)("div",{className:"custom-codeblock-container",style:{borderRadius:"12px",overflow:"hidden",border:"1px solid #333",marginBottom:"1.5em",position:"relative"},children:[t&&(0,r.jsx)("div",{style:{background:"#2d2d2d",color:"#fff",padding:"0.3em 1em",fontSize:"0.85em",borderBottom:"1.5px solid #444",letterSpacing:"0.01em",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsx)("span",{children:t})}),(0,r.jsx)(n.f4,{theme:l,...e,children:t=>{let{className:s,style:i,tokens:n,getLineProps:l,getTokenProps:d}=t;const x=n.map((e=>e.map((e=>e.content)).join(""))).join("\n");let u=0,j=0,p=0,f=0;n.forEach((e=>{e.forEach((e=>{const t=d({token:e}).children;"string"==typeof t&&"state_saver"===t.trim()&&j++,"string"==typeof t&&"audio_file"===t.trim()&&p++,"string"==typeof t&&"db_config"===t.trim()&&f++,"string"==typeof t&&"sql"===t.trim()&&0}))}));let y=0,b=0,w=0,_=0,v=[];const k=e=>{const t=(e-1)%3;return 0===t?"custom-highlight-yellow-dark":1===t?{color:"#ff69b4"}:{color:"#42a5f5"}};return(0,r.jsxs)("pre",{className:s,style:{...i,border:"none",borderRadius:0,color:"bash"===e.language?"#ffffff":i.color,margin:0,position:"relative"},children:[(0,r.jsx)("button",{className:"copy-icon-btn"+(o?" copied":""),onClick:()=>{navigator.clipboard.writeText(x),g(!0),setTimeout((()=>g(!1)),2e3)},"aria-label":"Copy code",type:"button",children:o?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:"#fff",d:"m9.55 15.15l8.475-8.475q.3-.3.7-.3t.7.3t.3.713t-.3.712l-9.175 9.2q-.3.3-.7.3t-.7-.3L4.55 13q-.3-.3-.288-.712t.313-.713t.713-.3t.712.3z"})}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,r.jsx)("path",{d:"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z"}),(0,r.jsx)("path",{d:"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3"})]})})}),n.map(((t,s)=>{const i=t.map((e=>d({token:e}).children)).join(""),n=m.includes(s+1),o={...l({line:t}).style,...n?{backgroundColor:"rgba(255, 255, 255, 0.1)",borderLeft:"3px solid #bcb6ff",paddingLeft:"8px",marginLeft:"-8px"}:{}};return/^\s*#/.test(i)?(0,r.jsx)("div",{...l({line:t}),style:o,children:t.map(((t,s)=>{const i=d({token:t});return(0,r.jsx)("span",{className:(e.language,"custom-highlight-comment"),children:i.children},s)}))},s):(0,r.jsx)("div",{...l({line:t}),style:o,children:t.map(((t,s)=>{const i=d({token:t});let n=i.children;if("bash"===e.language)return(0,r.jsx)("span",{style:{color:"#ffffff"},children:n},s);const l=[];let o,g=0;for(;null!==(o=c.exec(n));){if(o.index>g){let e=n.slice(g,o.index).replace(a,(e=>`<span class="${h[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),l.push(e)}l.push(`<span class="custom-highlight-yellow">${o[0]}</span>`),g=o.index+o[0].length}if(g<n.length){let e=n.slice(g).replace(a,(e=>`<span class="${h[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),l.push(e)}const m=l.join("");if("string"==typeof n&&"prompt"===n.trim())return u++,1===u?(0,r.jsx)("span",{className:"custom-highlight-orange",children:n},s):2===u?(0,r.jsx)("span",{style:{color:"#fff"},children:n},s):(0,r.jsx)("span",{...i},s);if("string"==typeof n&&"audio_file"===n.trim())return b++,3===p&&2===b?(0,r.jsx)("span",{className:"custom-highlight-orange",children:n},s):(0,r.jsx)("span",{...i},s);if("string"==typeof n&&"state_saver"===n.trim())return y++,1===j&&1===y||2===j&&1===y||3===j&&2===y?(0,r.jsx)("span",{className:"custom-highlight-orange",children:n},s):(0,r.jsx)("span",{...i},s);if("string"==typeof n&&"db_config"===n.trim())return w++,1===f&&1===w||2===f&&1===w||3===f&&2===w?(0,r.jsx)("span",{className:"custom-highlight-orange",children:n},s):(0,r.jsx)("span",{...i},s);if("string"==typeof n&&"sql"===n.trim())return _++,1===_?(0,r.jsx)("span",{className:"custom-highlight-green",children:n},s):2===_||3===_?(0,r.jsx)("span",{className:"custom-highlight-orange",children:n},s):(0,r.jsx)("span",{...i},s);if("("===n||"{"===n||"["===n){v.push(n);const e=v.length,t=k(e);return"string"==typeof t?(0,r.jsx)("span",{className:t,children:n},s):(0,r.jsx)("span",{style:t,children:n},s)}if(")"===n||"}"===n||"]"===n){const e=v.length,t=k(e);let i;i="string"==typeof t?(0,r.jsx)("span",{className:t,children:n},s):(0,r.jsx)("span",{style:t,children:n},s);const l=v[v.length-1];return(")"===n&&"("===l||"}"===n&&"{"===l||"]"===n&&"["===l)&&v.pop(),i}return m!==n?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:m}},s):(0,r.jsx)("span",{...i},s)}))},s)}))]})}})]})}},8453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>h});var i=s(6540);const n={},r=i.createContext(n);function l(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function h(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(r.Provider,{value:t},e.children)}},9593:(e,t,s)=>{s.d(t,{A:()=>n});s(6540);var i=s(4848);function n(e){let{children:t,className:s}=e;return(0,i.jsx)("table",{className:s,style:{width:"100%"},children:t})}}}]);