"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[204],{698:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>h,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"agents/index","title":"Overview","description":"Master proven strategies for designing advanced, specialized AI agents that work together seamlessly to tackle complex challenges.","source":"@site/docs/agents/index.md","sourceDirName":"agents","slug":"/agents/","permalink":"/docs/agents/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Overview","sidebar":"docsSidebar"},"sidebar":"docsSidebar","previous":{"title":"Model Capabilities","permalink":"/docs/getting-started/model_capabilities"},"next":{"title":"Tools","permalink":"/docs/agents/tools"}}');var s=t(4848),o=t(8453),r=t(5495);const l={title:"Overview",sidebar:"docsSidebar"},h="Understanding Agents",a={},c=[{value:"What is an Agent?",id:"what-is-an-agent",level:2},{value:"How Agents Work",id:"how-agents-work",level:2},{value:"Running the Agent",id:"running-the-agent",level:2},{value:"Synchronous Output Mode",id:"synchronous-output-mode",level:3},{value:"Streaming Response",id:"streaming-response",level:3},{value:"Using Tools",id:"using-tools",level:2},{value:"Using Memory in Agents",id:"using-memory-in-agents",level:2},{value:"Next Steps",id:"next-steps",level:2}];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"understanding-agents",children:"Understanding Agents"})}),"\n",(0,s.jsx)("h2",{className:"subtitle",style:{marginTop:"-17px",fontSize:"1.2rem",fontWeight:"normal"},children:(0,s.jsx)(n.p,{children:"Master proven strategies for designing advanced, specialized AI agents that work together seamlessly to tackle complex challenges."})}),"\n",(0,s.jsx)(n.h2,{id:"what-is-an-agent",children:"What is an Agent?"}),"\n",(0,s.jsx)(n.p,{children:"An Agent is like having a super-smart assistant powered by an LLM (Large Language Model). Think of it as your AI teammate that can think, reason, and take actions!"}),"\n",(0,s.jsx)(r.A,{language:"python",code:"Agent()  # That's it! You've created your first agent!"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Make sure to define all required environment variables\u2014such as your OpenAI API key\u2014in your ",(0,s.jsx)(n.code,{children:".env"})," file."]}),"\n",(0,s.jsx)(r.A,{language:"bash",title:".env",code:"OPENAI_API_KEY=your_api_key_here"}),"\n",(0,s.jsx)(n.h2,{id:"how-agents-work",children:"How Agents Work"}),"\n",(0,s.jsx)(n.p,{children:"Let's break down how an Agent thinks and works:"}),"\n",(0,s.jsxs)("div",{className:"timeline",children:[(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsxs)("div",{className:"timeline-content",children:[(0,s.jsx)("h4",{children:"Receives Your Request"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You give the ",(0,s.jsx)(n.strong,{children:"Agent"})," a ",(0,s.jsx)(n.strong,{children:"task"})," or ",(0,s.jsx)(n.strong,{children:"question"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["It carefully considers ",(0,s.jsx)(n.strong,{children:"what needs to be done"}),"."]}),"\n"]})]})}),(0,s.jsx)("div",{className:"timeline-connector",children:"\u2192"}),(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsxs)("div",{className:"timeline-content",children:[(0,s.jsx)("h4",{children:"Makes Smart Decisions"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Decides if it can ",(0,s.jsx)(n.strong,{children:"answer directly"})]}),"\n",(0,s.jsxs)(n.li,{children:["Or if it needs to ",(0,s.jsx)(n.strong,{children:"use special tools"})," to help"]}),"\n"]})]})}),(0,s.jsx)("div",{className:"timeline-connector",children:"\u2192"}),(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsxs)("div",{className:"timeline-content",children:[(0,s.jsx)("h4",{children:"Uses Tools When Needed"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If tools are needed, it ",(0,s.jsx)(n.strong,{children:"knows"})," exactly which ones to use"]}),"\n",(0,s.jsx)(n.li,{children:"Gets the information it needs"}),"\n"]})]})}),(0,s.jsx)("div",{className:"timeline-connector",children:"\u2192"}),(0,s.jsx)("div",{className:"timeline-item",children:(0,s.jsxs)("div",{className:"timeline-content",children:[(0,s.jsx)("h4",{children:"Gives You the Perfect Answer"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Combines all the information"}),"\n",(0,s.jsxs)(n.li,{children:["Gives you a complete, thoughtful ",(0,s.jsx)(n.strong,{children:"response"})]}),"\n"]})]})})]}),"\n",(0,s.jsx)("style",{children:"\n.timeline {\ndisplay: flex;\nalign-items: center;\nmargin: 1rem 0;\noverflow-x: auto;\npadding: 0.5rem;\n}\n\n.timeline-item {\nwidth: 180px;\ntext-align: left;\npadding: 0.5rem;\nbackground: var(--ifm-background-color);\nborder-radius: 6px;\nbox-shadow: 0 1px 3px rgba(0,0,0,0.1);\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\n}\n\n.timeline-connector {\ncolor: var(--ifm-color-primary);\nfont-size: 1.2rem;\npadding: 0 0.5rem;\n}\n\n.timeline-content {\npadding: 0.5rem;\nheight: 100%;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\n}\n\n.timeline-content h3 {\nmargin-bottom: 0.25rem;\nfont-size: 1rem;\n}\n\n.timeline-content ul {\nlist-style: disc;\npadding-left: 1.2em;\nmargin: 0;\n}\n\n.timeline-content li {\nmargin: 0.15rem 0;\nfont-size: 0.85rem;\n}\n\n.timeline-content h4 {\ncolor: var(--ifm-color-primary);\nfont-weight: bold;\nmargin-bottom: 0.5em;\nmargin-top: 0;\n}\n"}),"\n",(0,s.jsx)(n.h2,{id:"running-the-agent",children:"Running the Agent"}),"\n",(0,s.jsx)(n.p,{children:"In order to run the Agent, there are 2 possibilites according to the synchrouslyty."}),"\n",(0,s.jsx)(n.h3,{id:"synchronous-output-mode",children:"Synchronous Output Mode"}),"\n",(0,s.jsxs)(n.p,{children:["For when the agent returns a complete response after processing. We will use the ",(0,s.jsx)(n.code,{children:"complete()"})," function:"]}),"\n",(0,s.jsx)(r.A,{language:"python",code:'response = await agent.complete(prompt="What time is it?")'}),"\n",(0,s.jsx)(n.h3,{id:"streaming-response",children:"Streaming Response"}),"\n",(0,s.jsxs)(n.p,{children:["Otherwise, when we want to know specific information on each event we can find the response asynchrounsly by running ",(0,s.jsx)(n.code,{children:"run()"}),":"]}),"\n",(0,s.jsx)(r.A,{language:"python",code:"response = async for event in flow.run():\n  print(event) "}),"\n",(0,s.jsx)(n.p,{children:"Events tell you what's happening in your flow. Here's what you can do with them:"}),"\n",(0,s.jsx)(r.A,{language:"python",code:'async for event in flow.run():\n  if event.type == "START":\n      print(f"Starting Agent: {event.step_id}")'}),"\n",(0,s.jsx)(r.A,{language:"python",code:'async for event in flow.run():\n  if event.type == "OUTPUT":\n      print(f"Agent finished in {event.elapsed_time}ms")\n      print(f"Outputs: {event.outputs}")'}),"\n",(0,s.jsx)(n.h2,{id:"using-tools",children:"Using Tools"}),"\n",(0,s.jsx)(n.p,{children:"Great! Now that you understand how Agents work, let's make yours even more powerful by adding some tools:"}),"\n",(0,s.jsx)(r.A,{language:"python",code:'Agent(\n  tools = [\n    search_internet,\n    Tool(\n      runnable = get_weather,\n      description = "Get the weather of a location",\n      exclude_params=["query"]\n    ),\n    {\n      "runnable": get_time,\n      "description": "Get the time of a location",\n      "params_mode": "required",\n      "invalid_key": "invalid_value",\n      "include_params": "model"\n    }\n  ]\n)'}),"\n",(0,s.jsx)(n.p,{children:"Agents can be equipped with tools\u2014custom functions that expand their abilities beyond text generation. With tools, agents can perform tasks like calculations, interact with external systems, and process data."}),"\n",(0,s.jsxs)(n.p,{children:["To learn more about creating and configurating tools, check out the ",(0,s.jsx)(n.a,{href:"/docs/agents/tools",children:"Tools documentation"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"using-memory-in-agents",children:"Using Memory in Agents"}),"\n",(0,s.jsx)(n.p,{children:"If we want our Agent to have memory we have to ensure this 2 steps:"}),"\n",(0,s.jsxs)(n.p,{children:["First, we have to add an ",(0,s.jsx)(n.code,{children:"state_saver"}),"."]}),"\n",(0,s.jsx)(r.A,{language:"python",code:'Agent(\n      model="gpt-4o-mini",\n      state_saver=InMemorySaver(),\n  )'}),"\n",(0,s.jsxs)(n.p,{children:["Second, we have to add the context. To do it we have to first initialize a ",(0,s.jsx)(n.code,{children:"RunContext"}),"and when a response is generated updated with the parent context to ensure the tracebelity of it."]}),"\n",(0,s.jsx)(r.A,{language:"python",code:'from timbal.state import RunContext\nrun_context = RunContext()\nflow_output_event = await flow.complete(\n      context=run_context,\n      prompt="What\'s my name?"\n)\nrun_context = RunContext(parent_id=flow_output_event.run_id)'}),"\n",(0,s.jsx)(n.p,{children:"In order to know more about state savers and the ones done take a look at State documentation"}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Try creating your own Agent with different tools"}),"\n",(0,s.jsx)(n.li,{children:"Experiment with different configurations"}),"\n",(0,s.jsxs)(n.li,{children:["See an example agent in ",(0,s.jsx)(n.a,{href:"/docs/examples",children:"Examples"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Remember: The more you practice, the better you'll become at creating powerful Agents!"})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},5495:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var i=t(1765),s=t(4848);(void 0!==t.g?t.g:window).Prism=i.My;const o={...i.Zj.github,plain:{...i.Zj.github.plain,backgroundColor:"#181818",color:"#ffffff"},styles:i.Zj.github.styles.map((e=>({...e,types:e.types})))},r={from:"custom-highlight-pink",import:"custom-highlight-pink","=":"custom-highlight-pink",timbal:"custom-highlight-green",Agent:"custom-highlight-green",steps:"custom-highlight-green",perplexity:"custom-highlight-green",InMemorySaver:"custom-highlight-green",RunContext:"custom-highlight-green",twilio:"custom-highlight-green",whatsapp:"custom-highlight-green",model:"custom-highlight-orange",query:"custom-highlight-orange",context:"custom-highlight-orange",system_prompt:"custom-highlight-orange",tools:"custom-highlight-orange",parent_id:"custom-highlight-orange",id:"custom-highlight-orange",model_id:"custom-highlight-orange",to:"custom-highlight-orange",message:"custom-highlight-orange",template_sid:"custom-highlight-orange",template_params:"custom-highlight-orange",text:"custom-highlight-orange",voice_id:"custom-highlight-orange",memory_id:"custom-highlight-orange",memory_window_size:"custom-highlight-orange","(":"custom-highlight-yellow-dark",")":"custom-highlight-yellow-dark","[":"custom-highlight-purple-pink","]":"custom-highlight-purple-pink","{":"custom-highlight-yellow-dark","}":"custom-highlight-yellow-dark",",":"#fffff",Flow:"custom-highlight-green",await:"custom-highlight-pink",def:"custom-highlight-blue",async:"custom-highlight-blue","-":"#fffff",">":"#fffff",":":"#fffff",".":"#fffff",state:"custom-highlight-green",savers:"custom-highlight-green",Tool:"custom-highlight-green",TimbalPlatformSaver:"custom-highlight-green",return:"custom-highlight-pink",for:"custom-highlight-pink",in:"custom-highlight-pink",if:"custom-highlight-pink",datetime:"custom-highlight-green",elevenlabs:"custom-highlight-green",types:"custom-highlight-green",File:"custom-highlight-green",get_datetime:"custom-highlight-green-fn",send_whatsapp_message:"custom-highlight-green-fn",send_whatsapp_template:"custom-highlight-green-fn",validate:"custom-highlight-green-fn",complete:"custom-highlight-green-fn",print:"custom-highlight-green-fn",search:"custom-highlight-green-fn",search_internet:"custom-highlight-green-fn",stt:"custom-highlight-green-fn",tts:"custom-highlight-green-fn",run:"custom-highlight-green-fn",search_web:"custom-highlight-green-fn",set_input:"custom-highlight-green-fn",extract_text:"custom-highlight-green-fn",text_processor:"custom-highlight-green-fn",convert_to_database:"custom-highlight-green-fn",get_weather:"custom-highlight-green-fn",get_time:"custom-highlight-green-fn",add_step:"custom-highlight-green-fn",add_link:"custom-highlight-green-fn",set_output:"custom-highlight-green-fn",parse_documentation:"custom-highlight-green-fn",create_database:"custom-highlight-green-fn",add_llm:"custom-highlight-green-fn",compile:"custom-highlight-green-fn",str:"custom-highlight-green"},l=new RegExp(`(${Object.keys(r).map((e=>/^[a-zA-Z0-9_]+$/.test(e)?`\\b${e}\\b`:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")})`,"g"),h=/"([^"]*)"/g;function a(e){const{title:n}=e;return(0,s.jsxs)("div",{style:{borderRadius:"20px",overflow:"hidden",border:"1px solid #333",marginBottom:"1.5em"},children:[n&&(0,s.jsx)("div",{style:{background:"#181818",color:"#fff",padding:"0.3em 1em",fontSize:"0.85em",borderBottom:"1px solid #333",letterSpacing:"0.01em"},children:n}),(0,s.jsx)(i.f4,{theme:o,...e,children:n=>{let{className:t,style:i,tokens:o,getLineProps:a,getTokenProps:c}=n,g=0,d=0,m=0;o.forEach((e=>{e.forEach((e=>{const n=c({token:e}).children;"string"==typeof n&&"state_saver"===n.trim()&&d++,"string"==typeof n&&"audio_file"===n.trim()&&m++}))}));let u=0,p=0,f=[];const x=e=>{const n=(e-1)%3;return 0===n?"custom-highlight-yellow-dark":1===n?{color:"#ff69b4"}:{color:"#42a5f5"}};return(0,s.jsx)("pre",{className:t,style:{...i,border:"none",borderRadius:0,color:"bash"===e.language?"#ffffff":i.color,margin:0},children:o.map(((n,t)=>{const i=n.map((e=>c({token:e}).children)).join("");return/^\s*#/.test(i)?(0,s.jsx)("div",{...a({line:n}),children:n.map(((n,t)=>{const i=c({token:n});return(0,s.jsx)("span",{className:(e.language,"custom-highlight-comment"),children:i.children},t)}))},t):(0,s.jsx)("div",{...a({line:n}),children:n.map(((n,t)=>{const i=c({token:n});let o=i.children;if("bash"===e.language)return(0,s.jsx)("span",{style:{color:"#ffffff"},children:o},t);const a=[];let j,y=0;for(;null!==(j=h.exec(o));){if(j.index>y){let e=o.slice(y,j.index).replace(l,(e=>`<span class="${r[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),a.push(e)}a.push(`<span class="custom-highlight-yellow">${j[0]}</span>`),y=j.index+j[0].length}if(y<o.length){let e=o.slice(y).replace(l,(e=>`<span class="${r[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),a.push(e)}const v=a.join("");if("string"==typeof o&&"prompt"===o.trim())return g++,1===g?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},t):2===g?(0,s.jsx)("span",{style:{color:"#fff"},children:o},t):(0,s.jsx)("span",{...i},t);if("string"==typeof o&&"audio_file"===o.trim())return p++,3===m&&2===p?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},t):(0,s.jsx)("span",{...i},t);if("string"==typeof o&&"state_saver"===o.trim())return u++,1===d&&1===u||2===d&&1===u||3===d&&2===u?(0,s.jsx)("span",{className:"custom-highlight-orange",children:o},t):(0,s.jsx)("span",{...i},t);if("("===o||"{"===o||"["===o){f.push(o);const e=f.length,n=x(e);return"string"==typeof n?(0,s.jsx)("span",{className:n,children:o},t):(0,s.jsx)("span",{style:n,children:o},t)}if(")"===o||"}"===o||"]"===o){const e=f.length,n=x(e);let i;i="string"==typeof n?(0,s.jsx)("span",{className:n,children:o},t):(0,s.jsx)("span",{style:n,children:o},t);const r=f[f.length-1];return(")"===o&&"("===r||"}"===o&&"{"===r||"]"===o&&"["===r)&&f.pop(),i}return v!==o?(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:v}},t):(0,s.jsx)("span",{...i},t)}))},t)}))})}})]})}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(6540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);