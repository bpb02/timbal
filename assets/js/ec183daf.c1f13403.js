"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1572],{2534:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>n,toc:()=>g});const n=JSON.parse('{"id":"state/index","title":"Overview","description":"Timbal provides a powerful state management system that enables your AI applications to maintain context, track conversations, and persist data across interactions.","source":"@site/docs/state/index.md","sourceDirName":"state","slug":"/state/","permalink":"/state/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Overview","sidebar":"docsSidebar"},"sidebar":"docsSidebar","previous":{"title":"Advanced Flow Concepts","permalink":"/flows/advanced"},"next":{"title":"Overview","permalink":"/integrations/"}}');var i=s(4848),a=s(8453),h=s(5495);const o={title:"Overview",sidebar:"docsSidebar"},r="State Management",l={},g=[{value:"What are Snapshots?",id:"what-are-snapshots",level:2},{value:"State Savers",id:"state-savers",level:2},{value:"1. InMemorySaver",id:"1-inmemorysaver",level:3},{value:"2. JSONLSaver",id:"2-jsonlsaver",level:3},{value:"3. TimbalPlatformSaver",id:"3-timbalplatformsaver",level:3},{value:"Creating Custom State Savers",id:"creating-custom-state-savers",level:2},{value:"State Savers Methods",id:"state-savers-methods",level:3},{value:"get_last",id:"get_last",level:4},{value:"put",id:"put",level:4},{value:"How Snapshots Work",id:"how-snapshots-work",level:2},{value:"Working with Snapshots",id:"working-with-snapshots",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"state-management",children:"State Management"})}),"\n",(0,i.jsx)(t.p,{children:"Timbal provides a powerful state management system that enables your AI applications to maintain context, track conversations, and persist data across interactions."}),"\n",(0,i.jsx)(t.h2,{id:"what-are-snapshots",children:"What are Snapshots?"}),"\n",(0,i.jsxs)(t.p,{children:["A ",(0,i.jsx)(t.strong,{children:"Snapshot"})," is a complete record of a flow's execution at a specific point in time. Each time you run a flow, Timbal automatically creates snapshots that capture:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Input parameters"}),"\n",(0,i.jsx)(t.li,{children:"Output results"}),"\n",(0,i.jsx)(t.li,{children:"Execution time"}),"\n",(0,i.jsx)(t.li,{children:"Error states"}),"\n",(0,i.jsx)(t.li,{children:"Step-by-step execution data"}),"\n",(0,i.jsx)(t.li,{children:"Memory state"}),"\n",(0,i.jsx)(t.li,{children:"Resource usage"}),"\n"]}),"\n",(0,i.jsx)(h.A,{language:"python",code:'from timbal import Flow\nfrom timbal.state.savers import InMemorySaver\n\nflow = (\n  Flow()\n  .add_llm("chat", model="gpt-4.1-nano", memory_id="chat_memory")\n  .compile(state_saver=InMemorySaver())\n)\n\n# Each run creates a new snapshot\nresult = await flow.complete(prompt="Hello!")'}),"\n",(0,i.jsx)(t.h2,{id:"state-savers",children:"State Savers"}),"\n",(0,i.jsx)(t.p,{children:"State Savers determine where and how snapshots are stored. Timbal provides several built-in options:"}),"\n",(0,i.jsx)(t.h3,{id:"1-inmemorysaver",children:"1. InMemorySaver"}),"\n",(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",margin:"1rem 0"},children:[(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Stores snapshots in RAM"}),(0,i.jsx)("li",{children:"Perfect for development and testing"}),(0,i.jsx)("li",{children:"Data is lost when the program terminates"})]})}),(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(h.A,{language:"python",code:"from timbal.state.savers import InMemorySaver\nstate_saver = InMemorySaver()"})})]}),"\n",(0,i.jsx)(t.h3,{id:"2-jsonlsaver",children:"2. JSONLSaver"}),"\n",(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",margin:"1rem 0"},children:[(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Stores snapshots in a JSONL file"}),(0,i.jsx)("li",{children:"Good for local development and debugging"}),(0,i.jsx)("li",{children:"Data persists between program runs"})]})}),(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(h.A,{language:"python",code:'from timbal.state.savers import JSONLSaver\nstate_saver = JSONLSaver("snapshots.jsonl")'})})]}),"\n",(0,i.jsx)(t.h3,{id:"3-timbalplatformsaver",children:"3. TimbalPlatformSaver"}),"\n",(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",margin:"1rem 0"},children:[(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Stores snapshots in the Timbal Platform"}),(0,i.jsx)("li",{children:"Ideal for production environments"}),(0,i.jsx)("li",{children:"Provides centralized storage and monitoring"})]})}),(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(h.A,{language:"python",code:"from timbal.state.savers import TimbalPlatformSaver\nstate_saver = TimbalPlatformSaver()"})})]}),"\n",(0,i.jsx)(t.h2,{id:"creating-custom-state-savers",children:"Creating Custom State Savers"}),"\n",(0,i.jsxs)(t.p,{children:["You can create your own state saver by implementing the ",(0,i.jsx)(t.code,{children:"BaseSaver"})," abstract class. This allows you to store snapshots in any backend of your choice (databases, cloud storage, etc.)."]}),"\n",(0,i.jsx)(h.A,{language:"python",code:'from abc import ABC, abstractmethod\nfrom timbal.state.savers.base import BaseSaver\nfrom timbal.state import RunContext, Snapshot\n\nclass CustomSaver(BaseSaver):\n  @abstractmethod\n  def get_last(self, path: str, context: RunContext) -> Snapshot | None:\n      """Retrieve the last snapshot for a given path and context."""\n      pass\n\n  @abstractmethod\n  def put(self, snapshot: Snapshot, context: RunContext) -> None:\n      """Store a new snapshot."""\n      pass'}),"\n",(0,i.jsx)(t.h3,{id:"state-savers-methods",children:"State Savers Methods"}),"\n",(0,i.jsx)(t.h4,{id:"get_last",children:"get_last"}),"\n",(0,i.jsxs)(t.p,{children:["The method ",(0,i.jsx)(t.strong,{children:"get_last"})," is used to retrieve the most recent snapshot for a given path and context."]}),"\n",(0,i.jsx)(t.p,{children:"It looks up the latest snapshot that matches the provided path (which identifies the flow or agent) and the given RunContext (which may include a parent_id to specify a chain of runs)."}),"\n",(0,i.jsx)(t.p,{children:"If a matching snapshot is found, it returns a Snapshot object."}),"\n",(0,i.jsx)(t.h4,{id:"put",children:"put"}),"\n",(0,i.jsx)(t.p,{children:"Every time a flow or agent completes a run, Timbal creates a new Snapshot object representing the state of that run (including input, output, memory, etc.)."}),"\n",(0,i.jsx)(t.p,{children:"The put method is then called to save this snapshot using the configured state saver (e.g., in memory, in a file, or in a database)."}),"\n",(0,i.jsx)(t.p,{children:"Without put, no snapshots would be saved, and you wouldn\u2019t be able to retrieve past state or maintain memory across runs."}),"\n",(0,i.jsx)(t.h2,{id:"how-snapshots-work",children:"How Snapshots Work"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Creation"}),": Each time you run a flow, Timbal creates a snapshot that captures the complete state."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Storage"}),": The snapshot is passed to your configured state saver, which stores it according to its implementation."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Retrieval"}),": When running a flow with a parent context, Timbal automatically retrieves the last relevant snapshot to restore state."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(h.A,{language:"python",code:'from timbal import Flow\nfrom timbal.state import RunContext\nfrom timbal.state.savers import InMemorySaver\n\nflow = (\n  Flow()\n  .add_llm("chat", model="gpt-4.1-nano", memory_id="chat_memory")\n  .compile(state_saver=InMemorySaver())\n)\n\n# First run creates a snapshot\nresult = await flow.complete(prompt="My name is David")\n\n# Second run retrieves the previous snapshot\nresult = await flow.complete(\n  context=RunContext(parent_id=result.run_id),\n  prompt="What\'s my name?"\n)'}),"\n",(0,i.jsx)(t.h2,{id:"working-with-snapshots",children:"Working with Snapshots"}),"\n",(0,i.jsx)(t.p,{children:"Here are some practical examples of how to work with state savers and snapshots:"}),"\n",(0,i.jsx)(h.A,{language:"python",code:'from timbal import Agent\nfrom timbal.state import RunContext\nfrom timbal.state.savers import InMemorySaver\n\n# Create an agent with memory\nagent = Agent(\n  model="gpt-4o-mini",\n  state_saver=InMemorySaver()\n)\n\nasync def main():\n  # First interaction\n  result = await agent.complete(prompt="My name is David")\n  # Second interaction with memory\n  result = await agent.complete(\n      context=RunContext(parent_id=result.run_id),\n      prompt="What\'s my name?"\n  )\n  # Check the snapshots\n  print(f"Number of snapshots: {len(agent.state_saver.snapshots)}")\n  for snapshot in agent.state_saver.snapshots:\n      print(f"Run ID: {snapshot.id}")\n      print(f"Memory size: {len(snapshot.data[\'memory\'].resolve())}")\n'}),"\n",(0,i.jsx)(t.p,{children:"The output shows how the agent's memory grows and how snapshots are created and linked."}),"\n",(0,i.jsx)(h.A,{language:"bash",code:"Number of snapshots: 2\nMemory size: 2\nMemory size: 4"}),"\n",(0,i.jsx)(t.p,{children:"Each interaction (each call to complete) is independent and gets its own snapshot."}),"\n",(0,i.jsx)(t.p,{children:"The first snapshot records the first message and response."}),"\n",(0,i.jsx)(t.p,{children:"The second snapshot records the second message, the agent\u2019s answer, and the updated memory (which now includes both turns)."}),"\n",(0,i.jsxs)(t.p,{children:["For more details on implementing custom state savers, see the ",(0,i.jsx)(t.a,{href:"https://github.com/timbal-ai/timbal/blob/main/python/timbal/state/snapshot.py",children:"Github documentation"}),"."]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},5495:(e,t,s)=>{s.d(t,{A:()=>g});var n=s(6540),i=s(1765),a=s(4848);(void 0!==s.g?s.g:window).Prism=i.My;const h={...i.Zj.github,plain:{...i.Zj.github.plain,backgroundColor:"#2d2d2d",color:"#ffffff"},styles:i.Zj.github.styles.map((e=>({...e,types:e.types})))},o={from:"custom-highlight-pink",import:"custom-highlight-pink",pass:"custom-highlight-pink","|":"custom-highlight-pink","=":"custom-highlight-pink","*":"custom-highlight-pink","/":"custom-highlight-pink","+":"custom-highlight-pink",timbal:"custom-highlight-green",Agent:"custom-highlight-green",steps:"custom-highlight-green",perplexity:"custom-highlight-green",InMemorySaver:"custom-highlight-green",fal:"custom-highlight-green",text_to_image:"custom-highlight-green",RunContext:"custom-highlight-green","@abstractmethod":"custom-highlight-green",put:"custom-highlight-green",get_last:"custom-highlight-green",abc:"custom-highlight-green",ABC:"custom-highlight-green",twilio:"custom-highlight-green",whatsapp:"custom-highlight-green",model:"custom-highlight-orange",None:"custom-highlight-purple",base:"custom-highlight-green",CustomSaver:"custom-highlight-green",BaseSaver:"custom-highlight-green",Snapshot:"custom-highlight-green",query:"custom-highlight-orange",context:"custom-highlight-orange",system_prompt:"custom-highlight-orange",tools:"custom-highlight-orange",parent_id:"custom-highlight-orange",id:"custom-highlight-orange",model_id:"custom-highlight-orange",to:"custom-highlight-orange",message:"custom-highlight-orange",resource:"custom-highlight-orange",self:"custom-highlight-orange",path:"custom-highlight-orange",snapshot:"custom-highlight-orange",max_results:"custom-highlight-orange",message_id:"custom-highlight-orange",thread_id:"custom-highlight-orange",subject:"custom-highlight-orange",body:"custom-highlight-orange",template_sid:"custom-highlight-orange",template_params:"custom-highlight-orange",scope:"custom-highlight-orange",folder:"custom-highlight-orange",destination:"custom-highlight-orange",text:"custom-highlight-orange",voice_id:"custom-highlight-orange",memory_id:"custom-highlight-orange",location:"custom-highlight-orange",celsius:"custom-highlight-orange",fahrenheit:"custom-highlight-orange",threshold:"custom-highlight-orange",full_name:"custom-highlight-orange",memory_window_size:"custom-highlight-orange","(":"custom-highlight-yellow-dark",")":"custom-highlight-yellow-dark","[":"custom-highlight-purple-pink","]":"custom-highlight-purple-pink","{":"custom-highlight-yellow-dark","}":"custom-highlight-yellow-dark",",":"#fffff",Flow:"custom-highlight-green",await:"custom-highlight-pink",as:"custom-highlight-pink",else:"custom-highlight-pink",def:"custom-highlight-blue",async:"custom-highlight-blue",class:"custom-highlight-blue","-":"#fffff",">":"#fffff",":":"#fffff",".":"#fffff",state:"custom-highlight-green",savers:"custom-highlight-green",sharepoint:"custom-highlight-green",Tool:"custom-highlight-green",list_directory:"custom-highlight-green-fn",get_first_name:"custom-highlight-green-fn",get_last_name:"custom-highlight-green-fn",check_full_name:"custom-highlight-green-fn",abstractmethod:"custom-highlight-green-fn",main:"custom-highlight-green-fn",gen_images:"custom-highlight-green-fn",download_file:"custom-highlight-green-fn",TimbalPlatformSaver:"custom-highlight-green",sql:"custom-highlight-green",postgres:"custom-highlight-green",return:"custom-highlight-pink",for:"custom-highlight-pink",in:"custom-highlight-pink",if:"custom-highlight-pink",datetime:"custom-highlight-green",elevenlabs:"custom-highlight-green",gmail:"custom-highlight-green",JSONLSaver:"custom-highlight-green",openai:"custom-highlight-green",messages:"custom-highlight-green",types:"custom-highlight-green",File:"custom-highlight-green",postgres_query:"custom-highlight-green-fn",PGConfig:"custom-highlight-green",get_message:"custom-highlight-green-fn",get_thread:"custom-highlight-green-fn",get_datetime:"custom-highlight-green-fn",send_message:"custom-highlight-green-fn",run_sql_query:"custom-highlight-green-fn",create_draft_message:"custom-highlight-green-fn",send_whatsapp_message:"custom-highlight-green-fn",send_whatsapp_template:"custom-highlight-green-fn",openai_stt:"custom-highlight-green-fn",elevenlabs_tts:"custom-highlight-green-fn",validate:"custom-highlight-green-fn",complete:"custom-highlight-green-fn",print:"custom-highlight-green-fn",search:"custom-highlight-green-fn",search_internet:"custom-highlight-green-fn",stt:"custom-highlight-green-fn",tts:"custom-highlight-green-fn",run:"custom-highlight-green-fn",search_web:"custom-highlight-green-fn",set_input:"custom-highlight-green-fn",extract_text:"custom-highlight-green-fn",text_processor:"custom-highlight-green-fn",convert_to_database:"custom-highlight-green-fn",get_weather:"custom-highlight-green-fn",get_time:"custom-highlight-green-fn",add_step:"custom-highlight-green-fn",add_link:"custom-highlight-green-fn",set_output:"custom-highlight-green-fn",set_data_map:"custom-highlight-green-fn",set_data_value:"custom-highlight-green-fn",get_temperature_celsius:"custom-highlight-green-fn",celsius_to_fahrenheit:"custom-highlight-green-fn",check_threshold:"custom-highlight-green-fn",parse_documentation:"custom-highlight-green-fn",create_database:"custom-highlight-green-fn",add_llm:"custom-highlight-green-fn",compile:"custom-highlight-green-fn",str:"custom-highlight-green"},r=new RegExp(`(${Object.keys(o).map((e=>/^[a-zA-Z0-9_]+$/.test(e)?`\\b${e}\\b`:e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")})`,"g"),l=/"([^"]*)"/g;function g(e){const{title:t,children:s,highlight:g}=e,[c,m]=(0,n.useState)(!1),d=g?g.split(",").map((e=>parseInt(e.trim()))):[];return(0,a.jsxs)("div",{className:"custom-codeblock-container",style:{borderRadius:"12px",overflow:"hidden",border:"1px solid #333",marginBottom:"1.5em",position:"relative"},children:[t&&(0,a.jsx)("div",{style:{background:"#2d2d2d",color:"#fff",padding:"0.3em 1em",fontSize:"0.85em",borderBottom:"1.5px solid #444",letterSpacing:"0.01em",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,a.jsx)("span",{children:t})}),(0,a.jsx)("div",{style:{position:"relative"},children:(0,a.jsx)(i.f4,{theme:h,...e,children:s=>{let{className:n,style:i,tokens:h,getLineProps:g,getTokenProps:p}=s;const u=h.map((e=>e.map((e=>e.content)).join(""))).join("\n");let f=0,x=0,v=0,j=0;h.forEach((e=>{e.forEach((e=>{const t=p({token:e}).children;"string"==typeof t&&"state_saver"===t.trim()&&x++,"string"==typeof t&&"audio_file"===t.trim()&&v++,"string"==typeof t&&"db_config"===t.trim()&&j++,"string"==typeof t&&"sql"===t.trim()&&0}))}));let y=0,b=0,w=0,_=0,S=[];const k=e=>{const t=(e-1)%3;return 0===t?"custom-highlight-yellow-dark":1===t?{color:"#ff69b4"}:{color:"#42a5f5"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"copy-icon-btn"+(c?" copied":""),onClick:()=>{navigator.clipboard.writeText(u),m(!0),setTimeout((()=>m(!1)),2e3)},"aria-label":"Copy code",type:"button",style:{position:"absolute",top:t?16:12,right:"1em",zIndex:10,background:"rgba(30,30,30,0.7)",border:"none",borderRadius:"6px",padding:"4px",cursor:"pointer",pointerEvents:"auto",transition:"opacity 0.2s, background 0.2s"},children:c?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{fill:"#fff",d:"m9.55 15.15l8.475-8.475q.3-.3.7-.3t.7.3t.3.713t-.3.712l-9.175 9.2q-.3.3-.7.3t-.7-.3L4.55 13q-.3-.3-.288-.712t.313-.713t.713-.3t.712.3z"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,a.jsxs)("g",{fill:"none",stroke:"#fff",strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z"}),(0,a.jsx)("path",{d:"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3"})]})})}),(0,a.jsx)("pre",{className:n,style:{...i,border:"none",borderRadius:0,color:"bash"===e.language?"#ffffff":i.color,margin:0,position:"relative"},children:h.map(((t,s)=>{const n=t.map((e=>p({token:e}).children)).join(""),i=d.includes(s+1),c={...g({line:t}).style,...i?{backgroundColor:"rgba(255, 255, 255, 0.1)",borderLeft:"3px solid #bcb6ff",paddingLeft:"8px",marginLeft:"-8px"}:{}};return/^\s*#/.test(n)?(0,a.jsx)("div",{...g({line:t}),style:c,children:t.map(((t,s)=>{const n=p({token:t});return(0,a.jsx)("span",{className:(e.language,"custom-highlight-comment"),children:n.children},s)}))},s):(0,a.jsxs)("div",{...g({line:t}),style:c,children:[t.map(((t,s)=>{const n=p({token:t});let i=n.children;if("bash"===e.language)return(0,a.jsx)("span",{style:{color:"#ffffff"},children:i},s);const h=[];let g,c=0;for(;null!==(g=l.exec(i));){if(g.index>c){let e=i.slice(c,g.index).replace(r,(e=>`<span class="${o[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),h.push(e)}h.push(`<span class="custom-highlight-yellow">${g[0]}</span>`),c=g.index+g[0].length}if(c<i.length){let e=i.slice(c).replace(r,(e=>`<span class="${o[e]}">${e}</span>`));e=e.replace(/\\b\\d+(?:\\.\\d+)?\\b/g,(e=>`<span class="custom-highlight-purple">${e}</span>`)),h.push(e)}const m=h.join("");if("string"==typeof i&&"prompt"===i.trim())return f++,1===f?(0,a.jsx)("span",{className:"custom-highlight-orange",children:i},s):2===f?(0,a.jsx)("span",{style:{color:"#fff"},children:i},s):(0,a.jsx)("span",{...n},s);if("string"==typeof i&&"audio_file"===i.trim())return b++,3===v&&2===b?(0,a.jsx)("span",{className:"custom-highlight-orange",children:i},s):(0,a.jsx)("span",{...n},s);if("string"==typeof i&&"state_saver"===i.trim())return y++,1===x&&1===y||2===x&&1===y||3===x&&2===y?(0,a.jsx)("span",{className:"custom-highlight-orange",children:i},s):(0,a.jsx)("span",{...n},s);if("string"==typeof i&&"db_config"===i.trim())return w++,1===j&&1===w||2===j&&1===w||3===j&&2===w?(0,a.jsx)("span",{className:"custom-highlight-orange",children:i},s):(0,a.jsx)("span",{...n},s);if("string"==typeof i&&"sql"===i.trim())return _++,1===_?(0,a.jsx)("span",{className:"custom-highlight-green",children:i},s):2===_||3===_?(0,a.jsx)("span",{className:"custom-highlight-orange",children:i},s):(0,a.jsx)("span",{...n},s);if("("===i||"{"===i||"["===i){S.push(i);const e=S.length,t=k(e);return"string"==typeof t?(0,a.jsx)("span",{className:t,children:i},s):(0,a.jsx)("span",{style:t,children:i},s)}if(")"===i||"}"===i||"]"===i){const e=S.length,t=k(e);let n;n="string"==typeof t?(0,a.jsx)("span",{className:t,children:i},s):(0,a.jsx)("span",{style:t,children:i},s);const h=S[S.length-1];return(")"===i&&"("===h||"}"===i&&"{"===h||"]"===i&&"["===h)&&S.pop(),n}return m!==i?(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:m}},s):(0,a.jsx)("span",{...n},s)})),s===h.length-1&&(0,a.jsx)("span",{style:{display:"inline-block",width:"1em"}})]},s)}))})]})}})})]})}},8453:(e,t,s)=>{s.d(t,{R:()=>h,x:()=>o});var n=s(6540);const i={},a=n.createContext(i);function h(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:h(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);